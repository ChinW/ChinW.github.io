<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Consiiii</title>
  <subtitle>Continue BREAK</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://consiiii.me/"/>
  <updated>2016-05-21T10:45:33.000Z</updated>
  <id>http://consiiii.me/</id>
  
  <author>
    <name>Consiiii</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Install PHP 7</title>
    <link href="http://consiiii.me/2016/05/21/Install-PHP-7/"/>
    <id>http://consiiii.me/2016/05/21/Install-PHP-7/</id>
    <published>2016-05-21T09:00:17.000Z</published>
    <updated>2016-05-21T10:45:33.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h2&gt;&lt;h4 id=&quot;Ubuntu&quot;&gt;&lt;a href=&quot;#Ubuntu&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu&quot;&gt;&lt;/a&gt;Ubuntu&lt;/h4&gt;&lt;p&gt;Test OS: Ubuntu 15.10&lt;/p&gt;
&lt;figure class=&quot;highlight smali&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-get install software-properties-common&lt;span class=&quot;built_in&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;add-apt-repository &lt;/span&gt;ppa:ondrej/php&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-get install php7.0 -y --force-yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Debian&quot;&gt;&lt;a href=&quot;#Debian&quot; class=&quot;headerlink&quot; title=&quot;Debian&quot;&gt;&lt;/a&gt;Debian&lt;/h4&gt;&lt;p&gt;Test OS: Debian 8 x64 (jessie) &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Edit &lt;code&gt;/etc/apt/sources.list&lt;/code&gt;&lt;/strong&gt;, replacing &lt;code&gt;&amp;lt;distribution&amp;gt;&lt;/code&gt; with either &lt;code&gt;sequeeze&lt;/code&gt;, &lt;code&gt;wheezy&lt;/code&gt;, &lt;code&gt;jessie&lt;/code&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deb &lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//packages.dotdeb.org &amp;lt;distribution&amp;gt; all&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src &lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//packages.dotdeb.org &amp;lt;distribution&amp;gt; all&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Add the GPG key:&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#download gpg&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget &lt;span class=&quot;keyword&quot;&gt;https&lt;/span&gt;://www.dotdeb.org/dotdeb.gpg &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#when you added it, you can delete it as you like &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-key &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; dotdeb.gpg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Install:&lt;/p&gt;
&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; install php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;PS: If you meet some problems when you excute &lt;code&gt;apt-get update&lt;/code&gt;, you may need to check &lt;code&gt;/etc/apt/sources.list&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Check&quot;&gt;&lt;a href=&quot;#Check&quot; class=&quot;headerlink&quot; title=&quot;Check&quot;&gt;&lt;/a&gt;Check&lt;/h2&gt;&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;root@Ubuntu:~# php -v&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP 7.0.6-13+donate.sury.org~wily+1 (&lt;span class=&quot;keyword&quot;&gt;cli&lt;/span&gt;) ( NTS )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Copyright&lt;/span&gt; (c) 1997-2016 The PHP &lt;span class=&quot;built_in&quot;&gt;Group&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Zend Engine v3.0.0, &lt;span class=&quot;keyword&quot;&gt;Copyright&lt;/span&gt; (c) 1998-2016 Zend Technologies&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    with Zend OPcache v7.0.6-dev, &lt;span class=&quot;keyword&quot;&gt;Copyright&lt;/span&gt; (c) 1999-2016, &lt;span class=&quot;keyword&quot;&gt;by&lt;/span&gt; Zend Technologies&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Modules&quot;&gt;&lt;a href=&quot;#Modules&quot; class=&quot;headerlink&quot; title=&quot;Modules&quot;&gt;&lt;/a&gt;Modules&lt;/h2&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;root@Ubuntu:~# apt-&lt;span class=&quot;keyword&quot;&gt;cache&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;search&lt;/span&gt; php7-*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-radius - radius &lt;span class=&quot;keyword&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-&lt;span class=&quot;keyword&quot;&gt;http&lt;/span&gt; - PECL &lt;span class=&quot;keyword&quot;&gt;HTTP&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP &lt;span class=&quot;keyword&quot;&gt;Extended&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;HTTP&lt;/span&gt; Support&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-uploadprogress - &lt;span class=&quot;keyword&quot;&gt;file&lt;/span&gt; upload progress &lt;span class=&quot;keyword&quot;&gt;tracking&lt;/span&gt; extension &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-mongodb - MongoDB driver &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-common - documentation, examples &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; common &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;libapache2-&lt;span class=&quot;keyword&quot;&gt;mod&lt;/span&gt;-php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt; - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (Apache &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-cgi - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (CGI &lt;span class=&quot;built_in&quot;&gt;binary&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-cli - command-line interpreter &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the PHP scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-phpdbg - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (PHPDBG &lt;span class=&quot;built_in&quot;&gt;binary&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-fpm - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (FPM-CGI &lt;span class=&quot;built_in&quot;&gt;binary&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;libphp7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-embed - HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (Embedded SAPI &lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-dev - Files &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; development&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-curl - CURL &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-enchant - Enchant &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-gd - GD &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Install specific modules with command below:&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;php7&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.0-mysql&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;php7&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.0-curl&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;PHP-FPM-amp-Nginx&quot;&gt;&lt;a href=&quot;#PHP-FPM-amp-Nginx&quot; class=&quot;headerlink&quot; title=&quot;PHP-FPM &amp;amp; Nginx&quot;&gt;&lt;/a&gt;PHP-FPM &amp;amp; Nginx&lt;/h2&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-get &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-fpm&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Edit &lt;code&gt;/etc/nginx/sites-enabled/default&lt;/code&gt;, check the configuration below for advisory optinoin purpose.&lt;/p&gt;
&lt;figure class=&quot;highlight xquery&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    location ~ \.php$ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        try_files $uri =&lt;span class=&quot;number&quot;&gt;404&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_split_path_info ^(.+\.php)(/.+)$;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_pass unix:/var/run/php/php7.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;-fpm.sock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_index index.php;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        include fastcgi_params;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Reference&quot;&gt;&lt;a href=&quot;#Reference&quot; class=&quot;headerlink&quot; title=&quot;Reference&quot;&gt;&lt;/a&gt;Reference&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://tecadmin.net/install-php-7-on-ubuntu/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tecadmin.net/install-php-7-on-ubuntu/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.colinodell.com/blog/2015-12/installing-php-7-0-0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.colinodell.com/blog/2015-12/installing-php-7-0-0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h2&gt;&lt;h4 id=&quot;Ubuntu&quot;&gt;&lt;a href=&quot;#Ubuntu&quot; class=&quot;headerlink&quot; 
    
    </summary>
    
    
      <category term="PHP" scheme="http://consiiii.me/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>redux-router与react-router-rdeux的不同</title>
    <link href="http://consiiii.me/2016/05/14/redux-router%E4%B8%8Ereact-router-rdeux%E7%9A%84%E4%B8%8D%E5%90%8C/"/>
    <id>http://consiiii.me/2016/05/14/redux-router与react-router-rdeux的不同/</id>
    <published>2016-05-14T09:03:12.000Z</published>
    <updated>2016-06-07T15:29:12.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;此文仅是&lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux-router&lt;/a&gt;页面上的部分翻译&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;react-router-redux&quot;&gt;&lt;a href=&quot;#react-router-redux&quot; class=&quot;headerlink&quot; title=&quot;react-router-redux&quot;&gt;&lt;/a&gt;react-router-redux&lt;/h2&gt;&lt;p&gt;react-router-redux(之前称为redux-simple-router)使用了一个不一样的方式去集成路由。react-router-redux让React Router去做所有沉重的任务，并同步url中的数据到store的history &lt;a href=&quot;https://github.com/mjackson/history/blob/master/docs/Location.md#location&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;location&lt;/a&gt;对象里。这代表着用户可以直接使用React Router的API，并从这一堆&lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;文档和例子&lt;/a&gt;中获益。&lt;/p&gt;
&lt;p&gt;react-router-redux的README中有一个非常有用的示意图，如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/reactjs/redux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux&lt;/a&gt; (store.routing)  ↔  &lt;a href=&quot;https://github.com/reactjs/react-router-redux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;react-router-redux&lt;/a&gt;  ↔  &lt;a href=&quot;https://github.com/reactjs/history&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;history&lt;/a&gt; (history.location)  ↔  &lt;a href=&quot;https://github.com/reactjs/react-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;react-router&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这种方式易于理解，但有些一些需要注意的地方：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;history location对象不包含React Router的参数，它们必须被React Router组件向下传递，或被重新计算。(The history location object does not include React Router params and they must be either passed down from a React Router component or recomputed.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;不鼓励（危险）&lt;/strong&gt;将store中的数据连接到组件里，因为store中的数据在React Router的属性改变后，有潜在的更新可能性， 因此当location store data与向下传递而来的location对象(从React Router到组件）不同时，这就出现了一个互相竞争的场景。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;react-router-redux 鼓励用户在React Router中的component中直接使用props（props会向下传递到任何被渲染的component中）。 这意味着如果您想要从comonpent tree中获取location data， 您可能需要将它向下传递，亦或使用React的Context特性。&lt;/p&gt;
&lt;h2 id=&quot;redux-router&quot;&gt;&lt;a href=&quot;#redux-router&quot; class=&quot;headerlink&quot; title=&quot;redux-router&quot;&gt;&lt;/a&gt;redux-router&lt;/h2&gt;&lt;p&gt;这个项目从一方面来说，使用的方法是将&lt;strong&gt;完整的&lt;/strong&gt;React Router数据存储在Redux Store中。这样做的主要好处是: 被redux-router向下传递到路由中的组件的props, 允许和存储在store中的数据不同。 因此可连接router的数据到任何您想要的component中。 您还可以直接从store中获取路由的参数。 redux-router也提供了一个API来应对从Router（React Router现在并没有提供这个东西）中进行热交换路由。&lt;/p&gt;
&lt;p&gt;关于redux-router的示意图如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/reactjs/redux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux&lt;/a&gt; (store.routing)&lt;/strong&gt; ↔ &lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux-router&lt;/a&gt;  ↔  &lt;a href=&quot;https://github.com/reactjs/react-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;react-router (via RouterContext)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这种方式同时也有一些限制：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;路由数据不全是可序列化的(serializable)(因为组件和函数不能被直接序列化)，因此对于那些帮助保存store到浏览器session中的开发工具扩展和类库，这可能会造成一些问题。但如果这些类库提供了忽略序列化store部分内容的方法，这样的问题可以被缓和，可是这并非总是可行的。&lt;/li&gt;
&lt;li&gt;redux-router利用了RouterContext的一些好的地方，来继续使用React Router的内部逻辑。 然而，redux-router必须要在自身中实现很多React Router已经有的东西，这会造成在升级路径上的延时。&lt;/li&gt;
&lt;li&gt;redux-router必须提供一个有细微区别的顶层API（因为第2点），即使他们的路由的逻辑/匹配模式可能是相同的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最终，您对这些库的选择取决于您和您的项目需求. React-router-redux会继续得到更多的社区支持，因为它已经进入了reactjs github组织，也有了相当的关注度。 对于react-router，和redux的集成， &lt;strong&gt;建议使用react-router-redux&lt;/strong&gt;。 然而，您可能也会发现redux-router其实更符合您的项目需求。只要有这样的需求存在，那redux-router就会继续被维护。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;此文仅是&lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux-router&lt;/a&gt;页面上的部分翻译&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id
    
    </summary>
    
    
      <category term="Translation" scheme="http://consiiii.me/tags/Translation/"/>
    
      <category term="Redux" scheme="http://consiiii.me/tags/Redux/"/>
    
      <category term="React" scheme="http://consiiii.me/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>Karma and React</title>
    <link href="http://consiiii.me/2016/04/18/Karma-and-React/"/>
    <id>http://consiiii.me/2016/04/18/Karma-and-React/</id>
    <published>2016-04-18T11:52:41.000Z</published>
    <updated>2016-06-03T13:03:53.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;使用Karma来测试React编写的应用&lt;/p&gt;
&lt;h2 id=&quot;2-安装环境&quot;&gt;&lt;a href=&quot;#2-安装环境&quot; class=&quot;headerlink&quot; title=&quot;2. 安装环境&quot;&gt;&lt;/a&gt;2. 安装环境&lt;/h2&gt;&lt;p&gt;使用的依赖如下：&lt;/p&gt;
&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;babel-core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;babel-loader&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;babel-preset-es2015&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;babel-preset-react&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;expect&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;jasmine&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-chrome-launcher&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// karma-firefox-launcher 如果您使用Firefox来测试，应当安装上它&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-cli&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-jasmine&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-sourcemap-loader&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-webpack&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;react&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;react&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;addons-test-utils&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;react&lt;/span&gt;-dom&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;requirejs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;webpack&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;使用&lt;code&gt;npm install&lt;/code&gt;命令来安装它们。&lt;/p&gt;
&lt;p&gt;在文章最后，我们的项目文件大概是这个样子：&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;├── karma&lt;span class=&quot;selector-class&quot;&gt;.conf&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── package&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── src&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   ├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   └── index&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   ├── components&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   ├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   │   └── app&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   └── app&lt;span class=&quot;selector-class&quot;&gt;.comp&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.jsx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   └── index&lt;span class=&quot;selector-class&quot;&gt;.jsx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;└── test-main.js&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;3-完善karma配置&quot;&gt;&lt;a href=&quot;#3-完善karma配置&quot; class=&quot;headerlink&quot; title=&quot;3. 完善karma配置&quot;&gt;&lt;/a&gt;3. 完善karma配置&lt;/h2&gt;&lt;p&gt;使用&lt;code&gt;karma init karma.conf.js&lt;/code&gt;来引导我们建立配置。&lt;/p&gt;
&lt;p&gt;以下是我的选择&lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Which testing framework &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; you want &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; use ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;. Enter &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; jasmine&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Do you want &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; use Require.js ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;This will &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; Require.js plugin.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;. Enter &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; &lt;span class=&quot;keyword&quot;&gt;no&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Do you want &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; capture any browsers automatically ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;. Enter &lt;span class=&quot;built_in&quot;&gt;empty&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; Chrome&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;What &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; the location of your &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;and&lt;/span&gt; test &lt;span class=&quot;keyword&quot;&gt;files&lt;/span&gt; ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You can use &lt;span class=&quot;built_in&quot;&gt;glob&lt;/span&gt; patterns, eg. &lt;span class=&quot;string&quot;&gt;&quot;js/*.js&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;test/**/*Spec.js&quot;&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Enter &lt;span class=&quot;built_in&quot;&gt;empty&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; src/*.jsx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Should any of the &lt;span class=&quot;keyword&quot;&gt;files&lt;/span&gt; included by the &lt;span class=&quot;keyword&quot;&gt;previous&lt;/span&gt; patterns &lt;span class=&quot;keyword&quot;&gt;be&lt;/span&gt; excluded ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You can use &lt;span class=&quot;built_in&quot;&gt;glob&lt;/span&gt; patterns, eg. &lt;span class=&quot;string&quot;&gt;&quot;**/*.swp&quot;&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Enter &lt;span class=&quot;built_in&quot;&gt;empty&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Do you want Karma &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; watch &lt;span class=&quot;keyword&quot;&gt;all&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;and&lt;/span&gt; run the tests &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;change&lt;/span&gt; ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接下来编辑&lt;code&gt;karma.conf.js&lt;/code&gt;，来补充webpack, 添加测试文件等, 主要改动如下：&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;config&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.set(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// frameworks to use&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// available frameworks: https://npmjs.org/browse/keyword/karma-adapter&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;frameworks&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&#39;jasmine&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// list of files / patterns to load in the browser&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;files&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	   &lt;span class=&quot;string&quot;&gt;&#39;test-main.js&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// preprocess matching files before serving them to the browser&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;preprocessors&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;test-main.js&#39;&lt;/span&gt;: [ &lt;span class=&quot;string&quot;&gt;&#39;webpack&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;sourcemap&#39;&lt;/span&gt; ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;webpack&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;devtool&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;inline-source-map&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;module&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attribute&quot;&gt;loaders&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#123; &lt;span class=&quot;attribute&quot;&gt;test&lt;/span&gt;: /\.js$/, &lt;span class=&quot;attribute&quot;&gt;loader&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;babel-loader?presets[]=react,presets[]=es2015&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#123; &lt;span class=&quot;attribute&quot;&gt;test&lt;/span&gt;: /\.jsx$/, &lt;span class=&quot;attribute&quot;&gt;loader&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;babel-loader?presets[]=react,presets[]=es2015&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;webpackServer&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;noInfo&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意到files和preprocessors中都提及了test-main.js这个文件，这是一个我们自定义增加的文件，我们用它来选择含有测试代码的文件。&lt;/p&gt;
&lt;p&gt;在项目目录中添加完成文件后（我将其放在项目根目录下，如果您放在其他路径，请对应上相应的路径），修改其内容如下：&lt;/p&gt;
&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt; = require.&lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt;(&#39;./src&#39;, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, /(spec|test)\.js$/i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt;.keys().forEach(&lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里利用了webpack的&lt;a href=&quot;https://webpack.github.io/docs/context.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;require.context&lt;/a&gt;功能来包括需要的测试文件，第一行中的正则表明这些文件是以spec.js或test.js结尾的, 且对大小写不敏感。&lt;/p&gt;
&lt;h2 id=&quot;4-添加测试文件&quot;&gt;&lt;a href=&quot;#4-添加测试文件&quot; class=&quot;headerlink&quot; title=&quot;4.  添加测试文件&quot;&gt;&lt;/a&gt;4.  添加测试文件&lt;/h2&gt;&lt;p&gt;添加几个React文件以及测试，尽快来尝试功能吧！&lt;/p&gt;
&lt;p&gt;添加的几个文件放在src中，目录结构可能是这个样子：&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;src&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   └── index&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── components&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   ├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   └── app&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   └── app&lt;span class=&quot;selector-class&quot;&gt;.comp&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.jsx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;└── index.jsx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接着一堆代码黏贴：&lt;/p&gt;
&lt;h4 id=&quot;index-test-js&quot;&gt;&lt;a href=&quot;#index-test-js&quot; class=&quot;headerlink&quot; title=&quot;index.test.js&quot;&gt;&lt;/a&gt;index.test.js&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;describe(&lt;span class=&quot;string&quot;&gt;&quot;index.jsx&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	it(&lt;span class=&quot;string&quot;&gt;&quot;renders without problems&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;../index.jsx&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;index-jsx&quot;&gt;&lt;a href=&quot;#index-jsx&quot; class=&quot;headerlink&quot; title=&quot;index.jsx&quot;&gt;&lt;/a&gt;index.jsx&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; ReactDOM &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;react-dom&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; App &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;./components/app.comp.jsx&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; root = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&quot;div&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(root)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ReactDOM.render(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt; Hi &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	root&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;app-comp-jsx&quot;&gt;&lt;a href=&quot;#app-comp-jsx&quot; class=&quot;headerlink&quot; title=&quot;app.comp.jsx&quot;&gt;&lt;/a&gt;app.comp.jsx&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;React&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt;(props)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	getNumber()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	render()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hi, Karma&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hi, React&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;app-test-js&quot;&gt;&lt;a href=&quot;#app-test-js&quot; class=&quot;headerlink&quot; title=&quot;app.test.js&quot;&gt;&lt;/a&gt;app.test.js&lt;/h4&gt;&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; React from &#39;react&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; TestUtils from &#39;react-addons-test-utils&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; expect from &#39;expect&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; App from &#39;../app.comp.jsx&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;describe(&lt;span class=&quot;string&quot;&gt;&#39;app.comp.jsx&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; app = TestUtils.renderIntoDocument(&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;App&lt;/span&gt; /&amp;gt;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	it(&lt;span class=&quot;string&quot;&gt;&#39;renders without problems&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		expect(app).toExist()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	it(&lt;span class=&quot;string&quot;&gt;&quot;getNumber function works&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		expect(app.getNumber()).toEqual(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;5-开始测试&quot;&gt;&lt;a href=&quot;#5-开始测试&quot; class=&quot;headerlink&quot; title=&quot;5. 开始测试&quot;&gt;&lt;/a&gt;5. 开始测试&lt;/h2&gt;&lt;p&gt;在终端中输入 &lt;code&gt;karma start&lt;/code&gt; 或 &lt;code&gt;karma start karma.conf.js&lt;/code&gt;， 如图所示， &lt;/p&gt;
&lt;p&gt;测试全都正确，Great.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_Karma_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;将&lt;code&gt;app.test.js&lt;/code&gt;中的&lt;code&gt;toEqual(3)&lt;/code&gt;改成&lt;code&gt;toEqual(4)&lt;/code&gt;， 报错, 很好.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_Karma_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;整个项目的示例，您可以在&lt;a href=&quot;https://github.com/ChinW/Karma-React&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;下载到。&lt;/p&gt;
&lt;p&gt;另外水平有限，如有错误，欢迎指正.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;使用Karma来测试React编写的应用&lt;/p&gt;
&lt;h2 id=&quot;2-安装环境&quot;&gt;&lt;a href=&quot;#2-安装环境&quot; c
    
    </summary>
    
      <category term="JavaScript" scheme="http://consiiii.me/categories/JavaScript/"/>
    
    
      <category term="Karma" scheme="http://consiiii.me/tags/Karma/"/>
    
      <category term="Test" scheme="http://consiiii.me/tags/Test/"/>
    
  </entry>
  
  <entry>
    <title>安装NS2进行网络仿真</title>
    <link href="http://consiiii.me/2016/04/17/%E5%AE%89%E8%A3%85NS2%E8%BF%9B%E8%A1%8C%E7%BD%91%E7%BB%9C%E4%BB%BF%E7%9C%9F/"/>
    <id>http://consiiii.me/2016/04/17/安装NS2进行网络仿真/</id>
    <published>2016-04-17T02:29:37.000Z</published>
    <updated>2016-04-17T02:54:09.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;搭建NS2环境，实现隐藏节点的模拟。&lt;/p&gt;
&lt;h2 id=&quot;2-环境安装&quot;&gt;&lt;a href=&quot;#2-环境安装&quot; class=&quot;headerlink&quot; title=&quot;2. 环境安装&quot;&gt;&lt;/a&gt;2. 环境安装&lt;/h2&gt;&lt;p&gt;环境安装中多需要sudo来提权，若出现&lt;code&gt;Permission Denied&lt;/code&gt;等字样，可先检查是否已经赋予正确权限。&lt;/p&gt;
&lt;h3 id=&quot;2-1-Ubuntu&quot;&gt;&lt;a href=&quot;#2-1-Ubuntu&quot; class=&quot;headerlink&quot; title=&quot;2.1 Ubuntu&quot;&gt;&lt;/a&gt;2.1 Ubuntu&lt;/h3&gt;&lt;p&gt;从网络中获取Ubuntu的镜像，这里选择的是Ubuntu 14桌面版32位。镜像可以在Ubuntu的官方站点获取，&lt;a href=&quot;http://www.ubuntu.org.cn/desktop。&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.ubuntu.org.cn/desktop。&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;在虚拟机安装成功后如图所示，进入主页面。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_1.png&quot; alt=&quot;Ubuntu主界面&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-2-安装依赖&quot;&gt;&lt;a href=&quot;#2-2-安装依赖&quot; class=&quot;headerlink&quot; title=&quot;2.2 安装依赖&quot;&gt;&lt;/a&gt;2.2 安装依赖&lt;/h3&gt;&lt;p&gt;使用以下命令安装依赖&lt;/p&gt;
&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; install build-essential tcl8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt; tcl8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt;-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt; tk8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt; tk8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt;-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt; libxmu-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt; libxmu-headers&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;2-3-NS-Allinone安装&quot;&gt;&lt;a href=&quot;#2-3-NS-Allinone安装&quot; class=&quot;headerlink&quot; title=&quot;2.3 NS-Allinone安装&quot;&gt;&lt;/a&gt;2.3 NS-Allinone安装&lt;/h3&gt;&lt;p&gt;从网络中下载到&lt;code&gt;ns-allinone-2.35.tar.gz&lt;/code&gt;安装包，在本地解压缩按安装包：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tar xvzf ns-allinone-2.35.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;进入&lt;code&gt;ns-allinoe-2.35&lt;/code&gt;目录，此时，需要修正一些信息以保证接下来的编译正常以及正常使用mUDP.&lt;/p&gt;
&lt;p&gt;以下做法是用来应对&lt;code&gt;./install&lt;/code&gt;时产生的以下错误：&lt;/p&gt;
&lt;h4 id=&quot;产生错误提示：linkstate-ls-h-137-58-note-use-‘this-gt-erase’-instead&quot;&gt;&lt;a href=&quot;#产生错误提示：linkstate-ls-h-137-58-note-use-‘this-gt-erase’-instead&quot; class=&quot;headerlink&quot; title=&quot;产生错误提示：linkstate/ls.h:137:58: note: use ‘this-&amp;gt;erase’ instead&quot;&gt;&lt;/a&gt;产生错误提示：linkstate/ls.h:137:58: note: use ‘this-&amp;gt;erase’ instead&lt;/h4&gt;&lt;p&gt;具体错误提示：&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;linkstate/ls.&lt;span class=&quot;symbol&quot;&gt;h:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;137&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;note:&lt;/span&gt; declarations &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; dependent base ‘&lt;span class=&quot;symbol&quot;&gt;std:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:map&amp;lt;int&lt;/span&gt;, LsIdSeq, &lt;span class=&quot;symbol&quot;&gt;std:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:less&amp;lt;int&amp;gt;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;std:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:allocator&amp;lt;std&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:pair&amp;lt;const&lt;/span&gt; int, LsIdSeq&amp;gt; &amp;gt; &amp;gt;’ are &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; found by unqualified lookup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;linkstate/ls.&lt;span class=&quot;symbol&quot;&gt;h:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;137&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;note:&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; ‘this-&amp;gt;erase’ instead&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解决办法:&lt;/p&gt;
&lt;p&gt;编辑&lt;code&gt;ns-allinone-2.35/ns-2.35/linkstate/ls.h&lt;/code&gt;中的135行，&lt;/p&gt;
&lt;p&gt;&lt;code&gt;void eraseAll() { erase(baseMap::begin(), baseMap::end()); }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;改为&lt;/p&gt;
&lt;p&gt;&lt;code&gt;void eraseAll() { this-&amp;gt;erase(baseMap::begin(), baseMap::end()); }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如图所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_2.png&quot; alt=&quot;修改eraseAll&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;进入&lt;code&gt;ns-allinone-2.35&lt;/code&gt;目录，输入&lt;code&gt;./install&lt;/code&gt;进行安装.再出现了一大堆信息后，安装应当已经成功。&lt;/p&gt;
&lt;p&gt;出现的信息应当与此类同：&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Please &lt;span class=&quot;built_in&quot;&gt;put&lt;/span&gt; /home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/bin:/home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/tcl8&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;/unix:/home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/tk8&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;/unix&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; your PATH environment; so that you’ll be able &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; run itm/tclsh/wish/xgraph.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IMPORTANT NOTICES:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)You must &lt;span class=&quot;built_in&quot;&gt;put&lt;/span&gt; /home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/otcl&lt;span class=&quot;number&quot;&gt;-1.14&lt;/span&gt;,/home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/lib,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; your LD_LIBRARY_PATH environment &lt;span class=&quot;built_in&quot;&gt;variable&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; complains about X libraries, &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; path &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; your X libraries&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; LD_LIBRARY_PATH.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If you are &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; csh, you can &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; like:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setenv LD_LIBRARY_PATH&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If you are &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; sh, you can &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; like:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export LD_LIBRARY_PATH=&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) You MUST &lt;span class=&quot;built_in&quot;&gt;put&lt;/span&gt; /home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/tcl8&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;/library intoyour TCL_LIBRARY environmental&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;variable&lt;/span&gt;. Otherwise ns/nam will complain during startup.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;After these steps, you can now run &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; ns validation suite &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cd ns&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;; ./validate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;For trouble shooting, please &lt;span class=&quot;keyword&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; ns problems page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;http&lt;/span&gt;://www.isi.edu/nsnam/ns/ns-problems.htmlAlso search &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; ns mailing list archive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; related posts.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此时需要编辑&lt;code&gt;.bashrc&lt;/code&gt;, 按照上述提示，在&lt;code&gt;~/.bashrc&lt;/code&gt;中追加一下内容&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; PATH=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$PATH&lt;/span&gt;:/home/WNT/Downloads/ns-allinone-2.35/bin:/home/WNT/Downloads/ns-allinone-2.35/tcl8.5.10/unix:/home/WNT/Downloads/ns-allinone-2.35/tk8.5.10/unix&quot;&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; LD_LIBRARY_PATH=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$LD_LIBRARY_PATH&lt;/span&gt;:/home/WNT/Downloads/ns-allinone-2.35/otcl-1.14:/home/WNT/Downloads/ns-allinone-2.35/lib&quot;&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; TCL_LIBRARY=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$TCL_LIBRARY&lt;/span&gt;:/home/WNT/Downloads/ns-allinone-2.35/tcl8.5.10/library&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;保存后退出。在Terminal中输入&lt;code&gt;ns&lt;/code&gt;，出现以下内容，则表示成功:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_3.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-4-实现mUDP环境&quot;&gt;&lt;a href=&quot;#2-4-实现mUDP环境&quot; class=&quot;headerlink&quot; title=&quot;2.4 实现mUDP环境&quot;&gt;&lt;/a&gt;2.4 实现mUDP环境&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;下载mudp.cc、mudp.h、mudpsink.cc、mudpsink.h，放置在&lt;code&gt;ns-allinone-2.35/ns-2.35/measure&lt;/code&gt;文件夹中，若measure不存在则需要自行建立。&lt;/li&gt;
&lt;li&gt;修改&lt;code&gt;mudp.cc&lt;/code&gt;,将以下代码：&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mUdpAgent::mUdpAgent() : id_(0), openfile(0)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	bind(&lt;span class=&quot;string&quot;&gt;&quot;packetSize_&quot;&lt;/span&gt;, &amp;amp;amp;size_);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	UdpAgent::UdpAgent();  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;改动为：&lt;/p&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mUdpAgent::mUdpAgent() :UdpAgent()，id_(0), openfile(0)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	bind(&lt;span class=&quot;string&quot;&gt;&quot;packetSize_&quot;&lt;/span&gt;, &amp;amp;amp;size_);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;修改&lt;code&gt;ns-allinone-2.35/ns-2.35/common/packet.h&lt;/code&gt;,加入以下内容至struct hdr_cmn{}中：&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; frametype_&lt;span class=&quot;comment&quot;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;double&lt;/span&gt; sendtime_&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unsigned &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; pkt_id_&lt;span class=&quot;comment&quot;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unsigned &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; frame_pkt_id_&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如图所示&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_4.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;修改&lt;code&gt;ns-allinone-2.35/ns-2.35/Makefile&lt;/code&gt;,追加以下内容至OBJ_CC:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;measure/mudp.o measure/mudpsink.o&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_5.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;修改&lt;code&gt;ns-allinone-2.35/ns-2.35/tcl/lib/ns-default.tcl&lt;/code&gt;, 追加一下一下内容在&lt;code&gt;Agent/Ping set packetSize_ 64&lt;/code&gt;下面：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Agent/mUDP set packetSize_ 1000&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在&lt;code&gt;ns-allinone-2.35/ns-2.35&lt;/code&gt;目录下&lt;code&gt;make clean; make&lt;/code&gt;即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;3-实验检测&quot;&gt;&lt;a href=&quot;#3-实验检测&quot; class=&quot;headerlink&quot; title=&quot;3. 实验检测&quot;&gt;&lt;/a&gt;3. 实验检测&lt;/h2&gt;&lt;p&gt;进入到相应Examples的目录，输入&lt;code&gt;ns XXXX.tcl&lt;/code&gt;即可开始仿真。&lt;/p&gt;
&lt;p&gt;最后运行隐藏节点的仿真效果如图所示。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_6.png&quot; alt=&quot;Exp&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_8.png&quot; alt=&quot;Exp&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_9.png&quot; alt=&quot;Exp&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_10.png&quot; alt=&quot;Exp&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;搭建NS2环境，实现隐藏节点的模拟。&lt;/p&gt;
&lt;h2 id=&quot;2-环境安装&quot;&gt;&lt;a href=&quot;#2-环境安装&quot; cla
    
    </summary>
    
      <category term="NS2" scheme="http://consiiii.me/categories/NS2/"/>
    
    
      <category term="NS2" scheme="http://consiiii.me/tags/NS2/"/>
    
  </entry>
  
  <entry>
    <title>PHP：将Word转换成PDF</title>
    <link href="http://consiiii.me/2016/03/16/PHP%EF%BC%9A%E5%B0%86Word%E8%BD%AC%E6%8D%A2%E6%88%90PDF/"/>
    <id>http://consiiii.me/2016/03/16/PHP：将Word转换成PDF/</id>
    <published>2016-03-16T09:08:03.000Z</published>
    <updated>2016-03-16T09:08:36.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h2&gt;&lt;p&gt;用户上传DOC，DOCX等文件格式后，能够在线查看到文件的内容。&lt;/p&gt;
&lt;h2 id=&quot;想法&quot;&gt;&lt;a href=&quot;#想法&quot; class=&quot;headerlink&quot; title=&quot;想法&quot;&gt;&lt;/a&gt;想法&lt;/h2&gt;&lt;p&gt;WORD文件内容是富文本，可以转换成HTML格式后表现出来，或者转换成PDF格式，然后通过pdf.js来实现在线阅读。&lt;/p&gt;
&lt;h2 id=&quot;实现&quot;&gt;&lt;a href=&quot;#实现&quot; class=&quot;headerlink&quot; title=&quot;实现&quot;&gt;&lt;/a&gt;实现&lt;/h2&gt;&lt;p&gt;由于后端环境是Windows，脚本语言为PHP， 因此可以使用PHP的COM组件来调用OpenOffice 或者 MS Word 来实现该格式转换问题。&lt;/p&gt;
&lt;h3 id=&quot;准备&quot;&gt;&lt;a href=&quot;#准备&quot; class=&quot;headerlink&quot; title=&quot;准备&quot;&gt;&lt;/a&gt;准备&lt;/h3&gt;&lt;h4 id=&quot;1-安装OpenOffice-或者-MS-Word-程序&quot;&gt;&lt;a href=&quot;#1-安装OpenOffice-或者-MS-Word-程序&quot; class=&quot;headerlink&quot; title=&quot;1. 安装OpenOffice 或者 MS Word 程序&quot;&gt;&lt;/a&gt;1. 安装OpenOffice 或者 MS Word 程序&lt;/h4&gt;&lt;p&gt;OpenOffice可以&lt;a href=&quot;https://www.openoffice.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在这里下载&lt;/a&gt;。&lt;/p&gt;
&lt;h4 id=&quot;2-打开COM&quot;&gt;&lt;a href=&quot;#2-打开COM&quot; class=&quot;headerlink&quot; title=&quot;2. 打开COM&quot;&gt;&lt;/a&gt;2. 打开COM&lt;/h4&gt;&lt;p&gt;注意：COM组件只试用于Windows版本下的PHP，需要PHP5及.Net runtime.&lt;/p&gt;
&lt;p&gt;PHP 5.3.15/5.4.5 需在&lt;code&gt;php.ini&lt;/code&gt;手动打开&lt;code&gt;php_com_dotnet.dll&lt;/code&gt;，此前版本默认已经打开。&lt;/p&gt;
&lt;p&gt;另外，您可能还需要打开&lt;code&gt;com.allow_dcom&lt;/code&gt;, 具体配置如下:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;extension=php_com_dotnet.dll&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[COM]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; allow Distributed-COM calls&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; http:&lt;span class=&quot;comment&quot;&gt;//php.net/com.allow-dcom&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;com.allow_dcom = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; autoregister constants &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; a components typlib on com_load()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; http:&lt;span class=&quot;comment&quot;&gt;//php.net/com.autoregister-typelib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;com.autoregister_typelib = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;使用MS-Word来转换&quot;&gt;&lt;a href=&quot;#使用MS-Word来转换&quot; class=&quot;headerlink&quot; title=&quot;使用MS Word来转换&quot;&gt;&lt;/a&gt;使用MS Word来转换&lt;/h3&gt;&lt;p&gt;PHP代码：&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; COM(&lt;span class=&quot;string&quot;&gt;&quot;word.application&quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;die&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Unable to instanciate Word&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Strat...\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// set it to 1 to see the MS Word window (the actual opening of the document)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;Visible = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// recommend to set to 0, disables alerts like &quot;Do you want MS Word to be the default .. etc&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;DisplayAlerts = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// open the word 2007-2013 document &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;Documents-&amp;gt;Open(realpath(&lt;span class=&quot;string&quot;&gt;&quot;in.docx&quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// save it as word 2003&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// $word-&amp;gt;ActiveDocument-&amp;gt;SaveAs(&#39;newdocument.pdf&#39;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// convert word 2007-2013 to PDF&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;ActiveDocument-&amp;gt;ExportAsFixedFormat(&lt;span class=&quot;string&quot;&gt;&quot;F:\\Tools\\Program Handle\\WAMP\\www\\wordConvertor\\output.pdf&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// quit the Word process&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;Quit(&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// clean up&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;unset&lt;/span&gt;($word);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Done!&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt; $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Caught exception: &#39;&lt;/span&gt;,  $e-&amp;gt;getMessage(), &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如果您遇到以下类似的错误, 并确认MS Word已经安装好：&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;PHP Fatal error: Uncaught exception &lt;span class=&quot;symbol&quot;&gt;&#39;com_exception&lt;/span&gt;&#39; &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; message &lt;span class=&quot;symbol&quot;&gt;&#39;Source&lt;/span&gt;: Microsoft Word&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Description: This command &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; available because no document &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt;.&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;请尝试这样解决（建议先尝试方法二）：&lt;/p&gt;
&lt;p&gt;方法一：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;开始&lt;/li&gt;
&lt;li&gt;Win+R 运行&lt;/li&gt;
&lt;li&gt;输入 &lt;code&gt;dcomcnfg&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Press OK&lt;/li&gt;
&lt;li&gt;展开 Component Services&lt;/li&gt;
&lt;li&gt;展开 Computers&lt;/li&gt;
&lt;li&gt;右键 My Computer，点击”Properties” &lt;/li&gt;
&lt;li&gt;Default Properties选项卡&lt;/li&gt;
&lt;li&gt;确认勾选Enable COM Internet Services on this computer 和Enable Distributed COM&lt;/li&gt;
&lt;li&gt;设置 Default Authentication Level 为 Default&lt;/li&gt;
&lt;li&gt;设置 Default Impersonation Level 为 Identify&lt;/li&gt;
&lt;li&gt;COM Security tab 选项卡&lt;/li&gt;
&lt;li&gt;Access Permissions area, 点击 Edit Limits…&lt;/li&gt;
&lt;li&gt;确认ANONYMOUS LOGIN 下允许 remote access&lt;/li&gt;
&lt;li&gt;点击 Add…&lt;/li&gt;
&lt;li&gt;在 “Enter object names to select” 文本框内输入 “Everyone”&lt;/li&gt;
&lt;li&gt;允许Everyone 有 Local Access 和 Remote Access&lt;/li&gt;
&lt;li&gt;点击确认&lt;/li&gt;
&lt;li&gt;同样在Access Permissions 区域，点击&lt;code&gt;Edit Default&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;确认允许 SELF and SYSTEM 有 remote access&lt;/li&gt;
&lt;li&gt;点击 &lt;code&gt;Add...&lt;/code&gt;重复步骤 16 and 17&lt;/li&gt;
&lt;li&gt;点击确认&lt;/li&gt;
&lt;li&gt;在Launch and Activation Permissions区域下点击&lt;code&gt;Edit Limits...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;确认允许Administrator user 有 remote launch 和 remote activation的权限&lt;/li&gt;
&lt;li&gt;如果Everyone用户组在这里不存在，请重复步骤16，17&lt;/li&gt;
&lt;li&gt;允许Everyone group有local launch, remote launch, local activation,和 remote activation权限.&lt;/li&gt;
&lt;li&gt;点击确认&lt;/li&gt;
&lt;li&gt;同样在Launch and Activation Permissions区域下，点击&lt;code&gt;Edit Default...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;确认Administrator, INTERACTIVE, 和 SYSTEM用户组有 remote launch 和 remote activation 的权利.&lt;/li&gt;
&lt;li&gt;重复步骤16 和 17 以创建Everyone用户组&lt;/li&gt;
&lt;li&gt;允许Everyone group有local launch, remote launch, local activation,和 remote activation权限.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_dcomcnfg_1.png&quot; alt=&quot;ci_dcomcnfg_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;同时，确认&lt;code&gt;php.ini&lt;/code&gt;中的&lt;code&gt;com.allow_dcom&lt;/code&gt;已经打开。重启后再试，如果问题依旧，请继续以下步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;依次点击Console Root -&amp;gt; Component Services -&amp;gt; Computers -&amp;gt; My Computer -&amp;gt; DCOM Config, 在此处找到&lt;code&gt;Microsoft Word 97 - 2003 Document&lt;/code&gt;(如果没有找到，请尝试方法二).&lt;/li&gt;
&lt;li&gt;右键属性.&lt;/li&gt;
&lt;li&gt;Security 选项卡中确认&lt;code&gt;Launch and Activation Permissions&lt;/code&gt;，&lt;code&gt;Access Permissions&lt;/code&gt;，&lt;code&gt;Configuration permissions&lt;/code&gt;已经勾选为&lt;code&gt;Default&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;Identity&lt;/code&gt;选项卡中选择&lt;code&gt;The interactive user&lt;/code&gt;或者指定一个Admin用户, 通常它可能是&lt;code&gt;The launching user&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;方法二：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Win + R 打开运行；&lt;/li&gt;
&lt;li&gt;输入&lt;code&gt;mmc -32&lt;/code&gt; ，按下OK；&lt;/li&gt;
&lt;li&gt;在新弹出的窗口中点击 File -&amp;gt; Add/Remove Sanp-in （或者Ctrl + M）；&lt;/li&gt;
&lt;li&gt;在新窗口中的左侧找到Component Services, 添加，确认；&lt;/li&gt;
&lt;li&gt;依次点击Console Root -&amp;gt; Component Services -&amp;gt; Computers -&amp;gt; My Computer -&amp;gt; DCOM Config, 在此处找到&lt;code&gt;Microsoft Word 97 - 2003 Document&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;右键&lt;code&gt;Microsoft Word 97 - 2003 Document&lt;/code&gt;，选择&lt;code&gt;Property&lt;/code&gt;, 在&lt;code&gt;Identity&lt;/code&gt;选项卡中选择&lt;code&gt;The interactive user&lt;/code&gt;或者指定一个Admin用户, 通常它可能是&lt;code&gt;The launching user&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_dcomcnfg_2.png&quot; alt=&quot;ci_dcomcnfg_2&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;使用OpenOffice来转换&quot;&gt;&lt;a href=&quot;#使用OpenOffice来转换&quot; class=&quot;headerlink&quot; title=&quot;使用OpenOffice来转换&quot;&gt;&lt;/a&gt;使用OpenOffice来转换&lt;/h3&gt;&lt;h3 id=&quot;启动OpenOffice服务&quot;&gt;&lt;a href=&quot;#启动OpenOffice服务&quot; class=&quot;headerlink&quot; title=&quot;启动OpenOffice服务&quot;&gt;&lt;/a&gt;启动OpenOffice服务&lt;/h3&gt;&lt;p&gt;两种方式，方式一比较简便。&lt;/p&gt;
&lt;p&gt;确认是否已经开启参考以下命令来获取回复：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;netstat -nao|findstr -c&amp;quot;:8100&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;其中8100应该改为您自行设定OpenOffice服务端口。&lt;/p&gt;
&lt;h4 id=&quot;方式一&quot;&gt;&lt;a href=&quot;#方式一&quot; class=&quot;headerlink&quot; title=&quot;方式一&quot;&gt;&lt;/a&gt;方式一&lt;/h4&gt;&lt;p&gt;假设您的OpenOffce安装在&lt;code&gt;C:\Program Files (x86)\OpenOffice 4\program\soffice.exe&lt;/code&gt;,在CMD中输入以下命令：&lt;/p&gt;
&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&quot;C:&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;Program&lt;/span&gt;&lt;/span&gt; Files (x86)&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;OpenOffice&lt;/span&gt;&lt;/span&gt; 4&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;program&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;soffice&lt;/span&gt;&lt;/span&gt;.exe&quot; -headless -accept=&quot;socket,host=127.0.0.1,port=8100;urp;&quot; -nofirststartwizard&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;方式二&quot;&gt;&lt;a href=&quot;#方式二&quot; class=&quot;headerlink&quot; title=&quot;方式二&quot;&gt;&lt;/a&gt;方式二&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;创建文件夹在该路径上 C:\utils， 把&lt;a href=&quot;https://www.getfilecloud.com/supportdocs/download/attachments/8161082/srvany.exe?version=1&amp;amp;modificationDate=1386351001000&amp;amp;api=v2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;srvany.exe&lt;/a&gt;复制到里面去. 该文件从&lt;a href=&quot;https://www.microsoft.com/en-gb/download/details.aspx?id=17657&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Windows Server 2003 Resource Kit&lt;/a&gt;提取.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;打开CMD（管理员模式）. 运行一下命令.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;C:\Windows\system32&amp;gt;&lt;span class=&quot;keyword&quot;&gt;sc &lt;/span&gt;create &lt;span class=&quot;string&quot;&gt;&quot;ooservice&quot;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;binPath= &lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;\&quot;C:\Utils\srvany.exe\&quot;&quot;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;DisplayName= &lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;OpenOffice Server&quot;&lt;/span&gt; start= auto&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;keyword&quot;&gt;SC] &lt;/span&gt;CreateService SUCCESS&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;打开注册表编辑器(Win + R, 输入regedit).  寻找到HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\ooservice. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建一个新的 key，名为 &lt;code&gt;Parameters&lt;/code&gt;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在&lt;code&gt;Parameters&lt;/code&gt; 这个Key中, 创建一个名为 &lt;code&gt;Application&lt;/code&gt;的String，其值如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;C:\Program Files (x86)\OpenOffice 4\program\soffice.exe&quot;&lt;/span&gt; -headless -accept=&lt;span class=&quot;string&quot;&gt;&quot;socket,host=127.0.0.1,port=8100;urp;&quot;&lt;/span&gt; -nofirststartwizard&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Note&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;Update&lt;/span&gt; path to &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt; office &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; necessary.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;最后您的注册表大概类似于这个样子:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://www.getfilecloud.com/supportdocs/download/attachments/8161082/image2013-12-6%2011%3A32%3A29.png?version=1&amp;amp;modificationDate=1386351001000&amp;amp;api=v2&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在&lt;code&gt;Control Panel&lt;/code&gt; -&amp;gt; &lt;code&gt;Administrative Tools&lt;/code&gt; -&amp;gt; &lt;code&gt;Services&lt;/code&gt; 中找到&lt;code&gt;Open Office Server&lt;/code&gt;并开启.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;使用上述的netstat -nao|findstr -c”:8100”命令确认是否已经开启.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;成功后回复如下：&lt;/p&gt;
&lt;figure class=&quot;highlight accesslog&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;C:\Windows\system32&amp;gt;netstat -nao|findstr -c&lt;span class=&quot;string&quot;&gt;&quot;:8100&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  TCP    &lt;span class=&quot;number&quot;&gt;127.0.0.1:8100&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;0.0.0.0:0&lt;/span&gt;              LISTENING       &lt;span class=&quot;number&quot;&gt;6016&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;PHP代码&quot;&gt;&lt;a href=&quot;#PHP代码&quot; class=&quot;headerlink&quot; title=&quot;PHP代码&quot;&gt;&lt;/a&gt;PHP代码&lt;/h3&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MakePropertyValue&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($name, $value,$osm)&lt;/span&gt;&lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oStruct = $osm-&amp;gt;Bridge_GetStruct(&lt;span class=&quot;string&quot;&gt;&quot;com.sun.star.beans.PropertyValue&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oStruct-&amp;gt;Name = $name; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oStruct-&amp;gt;Value = $value; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; $oStruct; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;word2pdf&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($doc_url, $output_url)&lt;/span&gt;&lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Invoke the OpenOffice.org service manager &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $osm = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; COM(&lt;span class=&quot;string&quot;&gt;&quot;com.sun.star.ServiceManager&quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;die&lt;/span&gt; (&lt;span class=&quot;string&quot;&gt;&quot;Please be sure that OpenOffice.org is installed.\n&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Set the application to remain hidden to avoid flashing the document onscreen &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $args = &lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;(MakePropertyValue(&lt;span class=&quot;string&quot;&gt;&quot;Hidden&quot;&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;,$osm)); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Launch the desktop &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $top = $osm-&amp;gt;createInstance(&lt;span class=&quot;string&quot;&gt;&quot;com.sun.star.frame.Desktop&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Load the .doc file, and pass in the &quot;Hidden&quot; property from above &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oWriterDoc = $top-&amp;gt;loadComponentFromURL($doc_url,&lt;span class=&quot;string&quot;&gt;&quot;_blank&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, $args); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Set up the arguments for the PDF output &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $export_args = &lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;(MakePropertyValue(&lt;span class=&quot;string&quot;&gt;&quot;FilterName&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;writer_pdf_Export&quot;&lt;/span&gt;,$osm)); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Write out the PDF &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oWriterDoc-&amp;gt;storeToURL($output_url,$export_args); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oWriterDoc-&amp;gt;close(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Strat...\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $doc_file = &lt;span class=&quot;string&quot;&gt;&#39;file:///F:/Tools/Program Handle/WAMP/www/wordConvertor/in.docx&#39;&lt;/span&gt; ; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $output_file = &lt;span class=&quot;string&quot;&gt;&#39;file:///F:/Tools/Program Handle/WAMP/www/wordConvertor/out.pdf&#39;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   word2pdf($doc_file, $output_file); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Done!&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt; $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Caught exception: &#39;&lt;/span&gt;,  $e-&amp;gt;getMessage(), &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;问题及注意&quot;&gt;&lt;a href=&quot;#问题及注意&quot; class=&quot;headerlink&quot; title=&quot;问题及注意&quot;&gt;&lt;/a&gt;问题及注意&lt;/h2&gt;&lt;h3 id=&quot;1-程序长时间卡在new-COM-quot-com-XXXXX-quot-这一行&quot;&gt;&lt;a href=&quot;#1-程序长时间卡在new-COM-quot-com-XXXXX-quot-这一行&quot; class=&quot;headerlink&quot; title=&quot;1.程序长时间卡在new COM(&amp;quot;com.XXXXX&amp;quot;)这一行&quot;&gt;&lt;/a&gt;1.程序长时间卡在&lt;code&gt;new COM(&amp;quot;com.XXXXX&amp;quot;)&lt;/code&gt;这一行&lt;/h3&gt;&lt;p&gt;由于实际上是调用MS WORD或者OpenOffice来完成的功能，因此调试时，可以利用任务管理器查看相关进程，防止因为错误的代码/环境重复打开多个进程而得不到关闭，导致后面的测试也出错。&lt;/p&gt;
&lt;p&gt;此外，还可以调短&lt;code&gt;php.ini&lt;/code&gt;中的&lt;code&gt;max_execution_time&lt;/code&gt;，个人感觉3s内无响应就该去再做检查了.&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.getfilecloud.com/supportdocs/display/cloud/Running+Openoffice+as+a+service+in+Windows&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.getfilecloud.com/supportdocs/display/cloud/Running+Openoffice+as+a+service+in+Windows&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.figured-it-out.com/figured-out.php?sid=24&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.figured-it-out.com/figured-out.php?sid=24&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12104775/cant-open-word-doc-with-com-in-php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/12104775/cant-open-word-doc-with-com-in-php&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h2&gt;&lt;p&gt;用户上传DOC，DOCX等文件格式后，能够在线查看到文件的内容。&lt;/p&gt;
&lt;h2 id=&quot;想法&quot;&gt;&lt;a href=&quot;#想法&quot; class=&quot;
    
    </summary>
    
      <category term="PHP" scheme="http://consiiii.me/categories/PHP/"/>
    
    
      <category term="PHP" scheme="http://consiiii.me/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>Doodle in Canvas</title>
    <link href="http://consiiii.me/2016/01/24/Doodle-in-Canvas/"/>
    <id>http://consiiii.me/2016/01/24/Doodle-in-Canvas/</id>
    <published>2016-01-24T06:02:59.000Z</published>
    <updated>2016-03-31T11:40:06.000Z</updated>
    
    <content type="html">&lt;p&gt;Canvas涂鸦，想通过Grid来做出一些不一样的效果，现在我也不知道弄出了什么。&lt;/p&gt;
&lt;p&gt;您可以&lt;a href=&quot;https://github.com/ChinW/GridEffect&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;从Github上得到它的源码&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&quot;1-收缩&quot;&gt;&lt;a href=&quot;#1-收缩&quot; class=&quot;headerlink&quot; title=&quot;1. 收缩&quot;&gt;&lt;/a&gt;1. 收缩&lt;/h2&gt;&lt;p&gt;第一张 gif 较大(3M)。 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Shrink/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_shrink.gif&quot; alt=&quot;Shrink1&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_shrink2.gif&quot; alt=&quot;Shrink2&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-十字&quot;&gt;&lt;a href=&quot;#2-十字&quot; class=&quot;headerlink&quot; title=&quot;2. 十字&quot;&gt;&lt;/a&gt;2. 十字&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Cross/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_cross.gif&quot; alt=&quot;Cross&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;3-波动&quot;&gt;&lt;a href=&quot;#3-波动&quot; class=&quot;headerlink&quot; title=&quot;3. 波动&quot;&gt;&lt;/a&gt;3. 波动&lt;/h2&gt;&lt;p&gt;波动过程 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type1/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_wave.gif&quot; alt=&quot;Wave1&quot;&gt;&lt;/p&gt;
&lt;p&gt;再模仿一下恢复的过程 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type2/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_wave3.gif&quot; alt=&quot;Wave3&quot;&gt;&lt;/p&gt;
&lt;p&gt;渲染上色 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type3/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_wave4.gif&quot; alt=&quot;Wave4&quot;&gt;&lt;/p&gt;
&lt;p&gt;加上一点音乐 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type4_Visualizer_Player/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_visulizer_player.png&quot; alt=&quot;Wave5&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Canvas涂鸦，想通过Grid来做出一些不一样的效果，现在我也不知道弄出了什么。&lt;/p&gt;
&lt;p&gt;您可以&lt;a href=&quot;https://github.com/ChinW/GridEffect&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;从Github上
    
    </summary>
    
      <category term="Canvas" scheme="http://consiiii.me/categories/Canvas/"/>
    
    
      <category term="Canvas" scheme="http://consiiii.me/tags/Canvas/"/>
    
  </entry>
  
  <entry>
    <title>CMS中存放文章内容的Content字段类型</title>
    <link href="http://consiiii.me/2016/01/15/CMS%E4%B8%AD%E5%AD%98%E6%94%BE%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9%E7%9A%84Content%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B/"/>
    <id>http://consiiii.me/2016/01/15/CMS中存放文章内容的Content字段类型/</id>
    <published>2016-01-15T14:00:28.000Z</published>
    <updated>2016-01-15T14:33:32.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;缘由&quot;&gt;&lt;a href=&quot;#缘由&quot; class=&quot;headerlink&quot; title=&quot;缘由&quot;&gt;&lt;/a&gt;缘由&lt;/h2&gt;&lt;p&gt;今天学校里的老师让我帮忙看看学校内站点发文章时为什么文章保存后自动被截取一部分：一张很长的表格，复制到富文本编辑器中后，点击“发布文章”后查看（过程没有出现执行错误），只出现了部分内容。&lt;/p&gt;
&lt;h2 id=&quot;操作&quot;&gt;&lt;a href=&quot;#操作&quot; class=&quot;headerlink&quot; title=&quot;操作&quot;&gt;&lt;/a&gt;操作&lt;/h2&gt;&lt;p&gt;检查后发现CMS的数据库（用的是MySQL），其保存文章的字段Content的类型是TEXT。&lt;/p&gt;
&lt;p&gt;关于TEXT一类相关的属性对比如下 &lt;a href=&quot;http://blog.sina.com.cn/s/blog_4f925fc30102edg8.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;资料来源&lt;/a&gt;：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;类型&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;范围&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Char(N) [binary]&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;N=1~255 个字元 。binary ：分辨大小写&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;固定长度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;VarChar(N) [binary]&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;N=1~255 个字元 。binary ：分辨大小写&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;可变长度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;TinyBlob&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度255个字元(2^8-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;TinyText&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度255个字元(2^8-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Text&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度65535个字元(2^16-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;MediumBlob&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度 16777215 个字元(2^24-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;MediumText&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度 16777215 个字元(2^24-1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;LongBlob&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度4294967295个字元 (2^32-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;LongText&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度4294967295个字元 (2^32-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;解决&quot;&gt;&lt;a href=&quot;#解决&quot; class=&quot;headerlink&quot; title=&quot;解决&quot;&gt;&lt;/a&gt;解决&lt;/h2&gt;&lt;p&gt;将Content的类型改为MediumText(或以上级别)后功能执行正常。&lt;/p&gt;
&lt;h2 id=&quot;讨论&quot;&gt;&lt;a href=&quot;#讨论&quot; class=&quot;headerlink&quot; title=&quot;讨论&quot;&gt;&lt;/a&gt;讨论&lt;/h2&gt;&lt;p&gt;由于学校内CMS用的一般都是富文本编辑器，存储在数据库中时还会保存成HTML格式的文本，其中一般含有大量的HTML标记，因此存储在Content字段中的字数要远超其显示的字符数。因此上述老师保存一段长表格，会被截取。&lt;/p&gt;
&lt;p&gt;然而:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MySQL在执行这个某个字段的值会被截断的插入／更新语句时不会提示错误（我在Console中测试过，没有错误反馈）。&lt;/li&gt;
&lt;li&gt;感觉不仅时学校内使用的CMS，很多CMS站点中关于Conetent的字段类型也都是TEXT类型的。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;非常感谢您的阅读。如果错误，欢迎在评论中指正！&lt;/strong&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;缘由&quot;&gt;&lt;a href=&quot;#缘由&quot; class=&quot;headerlink&quot; title=&quot;缘由&quot;&gt;&lt;/a&gt;缘由&lt;/h2&gt;&lt;p&gt;今天学校里的老师让我帮忙看看学校内站点发文章时为什么文章保存后自动被截取一部分：一张很长的表格，复制到富文本编辑器中后，点击“发布文章”后查
    
    </summary>
    
      <category term="MySQL" scheme="http://consiiii.me/categories/MySQL/"/>
    
    
      <category term="MySQL" scheme="http://consiiii.me/tags/MySQL/"/>
    
      <category term="CMS" scheme="http://consiiii.me/tags/CMS/"/>
    
  </entry>
  
  <entry>
    <title> ES6: Destructing(解构) &amp; Spread Operator(展开运算符) </title>
    <link href="http://consiiii.me/2015/12/19/ES6-Destructing-%E8%A7%A3%E6%9E%84-Spread-Operator-%E5%B1%95%E5%BC%80%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <id>http://consiiii.me/2015/12/19/ES6-Destructing-解构-Spread-Operator-展开运算符/</id>
    <published>2015-12-19T13:09:36.000Z</published>
    <updated>2015-12-19T13:10:44.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Destructing&quot;&gt;&lt;a href=&quot;#Destructing&quot; class=&quot;headerlink&quot; title=&quot;Destructing&quot;&gt;&lt;/a&gt;Destructing&lt;/h2&gt;&lt;p&gt;这个应该是翻译成“解构”吧&lt;br&gt;ES6允许这样这样操作&lt;/p&gt;
&lt;p&gt;首先是对于Object&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = &amp;#123; a:&lt;span class=&quot;string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;, b:&lt;span class=&quot;string&quot;&gt;&quot;Hi&quot;&lt;/span&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &amp;#123;a,b&amp;#125; = obj &lt;span class=&quot;comment&quot;&gt;//Bingo, now a = &quot;Hello&quot;, b = &quot;Hi&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &amp;#123;a,c&amp;#125; = obj &lt;span class=&quot;comment&quot;&gt;//Wrong, now a = &quot;Hello&quot;, c = undefined&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;对于数组，效果类同&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr = [ &lt;span class=&quot;string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;Hi&quot;&lt;/span&gt; ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; [a,b] = arr &lt;span class=&quot;comment&quot;&gt;//Bingo, now a = &quot;Hello&quot;, b = &quot;Hi&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; [a,c] = arr &lt;span class=&quot;comment&quot;&gt;//Also correct, now a = &quot;Hello&quot;, b = &quot;Hi&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Spread-Operator&quot;&gt;&lt;a href=&quot;#Spread-Operator&quot; class=&quot;headerlink&quot; title=&quot;Spread Operator&quot;&gt;&lt;/a&gt;Spread Operator&lt;/h2&gt;&lt;p&gt;翻译为“展开运算符”, 语法是三个点:  &lt;strong&gt;…&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这是一个仅针对Array有效的运算符，作用为在那些需要同时调用多个参数/元素 的地方提供语法便利&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x,y,z&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; x+y+z&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(sum(...[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;])) &lt;span class=&quot;comment&quot;&gt;//6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(sum(...[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;])) &lt;span class=&quot;comment&quot;&gt;//6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(sum(...[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;])) &lt;span class=&quot;comment&quot;&gt;//NaN&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; doSomething = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;...args&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sum(..args)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(doSomething(...[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;])) &lt;span class=&quot;comment&quot;&gt;//6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//对Object是否有效呢？&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = &amp;#123; a:&lt;span class=&quot;string&quot;&gt;&quot;A&quot;&lt;/span&gt;, b:&lt;span class=&quot;string&quot;&gt;&quot;B&quot;&lt;/span&gt;, c:&lt;span class=&quot;string&quot;&gt;&quot;C&quot;&lt;/span&gt;, d:&lt;span class=&quot;string&quot;&gt;&quot;D&quot;&lt;/span&gt;, e:&lt;span class=&quot;string&quot;&gt;&quot;E&quot;&lt;/span&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &amp;#123;a,b,...others&amp;#125; = obj &lt;span class=&quot;comment&quot;&gt;//报错&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Destructing&quot;&gt;&lt;a href=&quot;#Destructing&quot; class=&quot;headerlink&quot; title=&quot;Destructing&quot;&gt;&lt;/a&gt;Destructing&lt;/h2&gt;&lt;p&gt;这个应该是翻译成“解构”吧&lt;br&gt;ES6允许这样这样操作&lt;/p&gt;
&lt;
    
    </summary>
    
      <category term="JavaScript" scheme="http://consiiii.me/categories/JavaScript/"/>
    
    
      <category term="ES6" scheme="http://consiiii.me/tags/ES6/"/>
    
      <category term="JavaScript" scheme="http://consiiii.me/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>中华之梦创业比赛后记</title>
    <link href="http://consiiii.me/2015/12/06/%E4%B8%AD%E5%8D%8E%E4%B9%8B%E6%A2%A6%E5%88%9B%E4%B8%9A%E6%AF%94%E8%B5%9B%E5%90%8E%E8%AE%B0/"/>
    <id>http://consiiii.me/2015/12/06/中华之梦创业比赛后记/</id>
    <published>2015-12-06T11:02:57.000Z</published>
    <updated>2016-09-24T12:23:00.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;Upadte 1: 这是一篇无聊的流水账，我什么时候也会删了它&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;–&lt;/p&gt;
&lt;p&gt;周五(12-04) 启程去天津的武清区参加了”中华之梦”创业大赛。&lt;/p&gt;
&lt;p&gt;参加这个比赛是意料之外的事情: 暑期的时候应学校要求参加了市级的一个创业大赛，意外收获名次，而后便在11月份的时候被通知入围了复赛。&lt;/p&gt;
&lt;p&gt;本着学习和涨见识的想法，我决定去天津。&lt;/p&gt;
&lt;h2 id=&quot;概况&quot;&gt;&lt;a href=&quot;#概况&quot; class=&quot;headerlink&quot; title=&quot;概况&quot;&gt;&lt;/a&gt;概况&lt;/h2&gt;&lt;p&gt;比赛队伍一共有48支，本科生两队：一支来自于北京师范大学的与自行车相关的公益项目，还有我。其它的队伍大多已是职场人士多年，看PPT不乏博士，专家，清北复交大牛…&lt;/p&gt;
&lt;p&gt;此次目的是选出20强，参与录制CCTV的一个创业类型的电视节目。其实这次复赛中也已经看到了CCTV的编导在不停地摄像。&lt;/p&gt;
&lt;h2 id=&quot;行程&quot;&gt;&lt;a href=&quot;#行程&quot; class=&quot;headerlink&quot; title=&quot;行程&quot;&gt;&lt;/a&gt;行程&lt;/h2&gt;&lt;p&gt;12-03日，下午是一个创业训练营，由梁青(现中科纳新总经理，曾任联想之星副总裁)来给我们做一个相关的要点讲座，内容是关于创业的一些坑啦，股权啦等经验的分享。&lt;/p&gt;
&lt;p&gt;12-04日，为期一整天的现场演示, 分三个赛场, 每个赛场三位评审. 关于作品和想象中的差不多，大多有一些“互联网＋”项目, 做内容啦，做平台之类的。&lt;/p&gt;
&lt;p&gt;我比较纳闷，部分一些“互联网＋”的公司们，在我搜索其产品时，其产品的有很明显的粗制劣造痕迹，比如很多都是电商形式，产品也就是一个通用的电商模版，然后硬加上自己的Logo，改动一下文字。但也宣称自己拿到了百万投资，估值千万。我确有些迷惑, 让我想起一句话（&lt;a href=&quot;http://www.ruanyifeng.com/blog/2008/01/the_future_of_web_startups_part_i.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;来源&lt;/a&gt;）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;以前创业很昂贵，你不得不找到投资人才能创业。而现在，唯一的门槛就是勇气。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当然，在赛场上也看到一些有相当技术含量的项目. 例如名为“浩恒征途”的无人机项目，是来自北航的团队做的，现场带了个体型较大的工程机来，挺有震慑力.&lt;/p&gt;
&lt;p&gt;另外，还有一个叫做CIRI的语音系统让我印象深刻, 当我第一眼看到这个词的时候想到的是Siri.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_IMG_2244.JPG&quot; alt=&quot;photos&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;插曲&quot;&gt;&lt;a href=&quot;#插曲&quot; class=&quot;headerlink&quot; title=&quot;插曲&quot;&gt;&lt;/a&gt;插曲&lt;/h2&gt;&lt;p&gt;赛前晚上，举办方搞了一个投票，让参赛者在指定App上宣传自己的项目(明显的带APP营销啊喂)，参赛者都有点反感… 于是试着看了下代码，发现后端竟然没做限制，只在前端做了限制, 然后顺手就录制了一个快速刷票的视频作为演示的佐料.&lt;/p&gt;
&lt;p&gt;最后，止步于一个优胜奖。&lt;/p&gt;
&lt;h2 id=&quot;返程&quot;&gt;&lt;a href=&quot;#返程&quot; class=&quot;headerlink&quot; title=&quot;返程&quot;&gt;&lt;/a&gt;返程&lt;/h2&gt;&lt;p&gt;一路无言，附北京末班地铁照一张. &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_IMG_2194.JPG&quot; alt=&quot;subway&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;Upadte 1: 这是一篇无聊的流水账，我什么时候也会删了它&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;–&lt;/p&gt;
&lt;p&gt;周五(12-04) 启程去天津的武清区参加了”中华之梦”创业大赛。&lt;/p&gt;
&lt;p&gt;参加这个比赛是意料之外的事情: 暑期的时候应学校要求参加了市级
    
    </summary>
    
      <category term="Competition" scheme="http://consiiii.me/categories/Competition/"/>
    
    
      <category term="Competition" scheme="http://consiiii.me/tags/Competition/"/>
    
  </entry>
  
  <entry>
    <title>Swift 时间操作:NSDate,NSDateFormatter</title>
    <link href="http://consiiii.me/2015/11/23/Swift-%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C-NSDate-NSDateFormatter/"/>
    <id>http://consiiii.me/2015/11/23/Swift-时间操作-NSDate-NSDateFormatter/</id>
    <published>2015-11-23T11:50:26.000Z</published>
    <updated>2015-11-23T11:53:15.000Z</updated>
    
    <content type="html">&lt;p&gt;转载出处：&lt;a href=&quot;https://code.csdn.net/snippets/627333&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://code.csdn.net/snippets/627333&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NSDate&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 1、初始化&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 初始化一个当前时刻对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; now = NSDate()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 初始化一个明天当前时刻对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; tomorrow = NSDate(timeIntervalSinceNow: &lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 初始化一个昨天当前时刻对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; yestoday = NSDate(timeInterval: -&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;, sinceDate: now)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 初始化一个 2001-01-01 08:00:00 1小时后的时刻对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; date1 = NSDate(timeIntervalSinceReferenceDate: &lt;span class=&quot;number&quot;&gt;3600&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 初始化一个 1970-01-01 08:00:00 1小时后的时刻对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; date2 = NSDate(timeIntervalSince1970: &lt;span class=&quot;number&quot;&gt;3600&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 2、获取时间描述&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; dateDescription = now&lt;span class=&quot;selector-class&quot;&gt;.description&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 3、获取时间间隔&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 获取今天到明天的时间间隔&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; interval1 = tomorrow.timeIntervalSinceDate(now)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 获取今天到明天的时间间隔&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; interval2 = tomorrow&lt;span class=&quot;selector-class&quot;&gt;.timeIntervalSinceNow&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 获取 2001-01-01 08:00:00 到今天的时间间隔&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; interval3 = now&lt;span class=&quot;selector-class&quot;&gt;.timeIntervalSinceReferenceDate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 获取 1970-01-01 08:00:00 到今天的时间间隔&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; interval5 = now&lt;span class=&quot;selector-class&quot;&gt;.timeIntervalSince1970&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 4、随机返回一个不可能达到的未来时间、过去时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;date1 = NSDate.distantFuture() as NSDate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;date2 = NSDate.distantPast() as NSDate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 5、时间相加&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 返回一个后天当前时刻对象（在明天基础上再加上一天的时间）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; theDayAfterTomorrow = tomorrow.dateByAddingTimeInterval(&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 6、时间比较&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 比较两个时间对象是否相同返回布尔值（由于精度问题，isTheSameDate 为 false）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; isTheSameDate = theDayAfterTomorrow.isEqualToDate(NSDate(timeInterval: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;, sinceDate: now))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 返回两个时间中较早的一个时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; earlierOne = now.earlierDate(tomorrow)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 返回两个时间中较晚的一个时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; laterOne = now.laterDate(tomorrow)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 比较两个时间对象是否相同并返回 NSComparisonResult 值&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; compareResult = now.compare(tomorrow)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;NSDateFormatter&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 方式1：用已有日期格式进行转换&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; dateFormatter1 = NSDateFormatter()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dateFormatter1&lt;span class=&quot;selector-class&quot;&gt;.dateStyle&lt;/span&gt; = NSDateFormatterStyle&lt;span class=&quot;selector-class&quot;&gt;.MediumStyle&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dateFormatter1&lt;span class=&quot;selector-class&quot;&gt;.timeStyle&lt;/span&gt; = NSDateFormatterStyle&lt;span class=&quot;selector-class&quot;&gt;.MediumStyle&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; now = NSDate()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Date 转 String&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; nowString = dateFormatter1.stringFromDate(now)      &lt;span class=&quot;comment&quot;&gt;// Mar 24, 2015, 9:00:00 PM&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// String 转 Date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;now = dateFormatter1.dateFromString(nowString)!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 方式2：自定义日期格式进行转换&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;var&lt;/span&gt; dateFormatter2 = NSDateFormatter()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dateFormatter2&lt;span class=&quot;selector-class&quot;&gt;.dateFormat&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;yyyy-MM-dd HH:mm:ss&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Date 转 String&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nowString = dateFormatter2.stringFromDate(now)          &lt;span class=&quot;comment&quot;&gt;// 2015-03-24 21:00:00&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// String 转 Date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;now = dateFormatter2.dateFromString(nowString)!&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;转载出处：&lt;a href=&quot;https://code.csdn.net/snippets/627333&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://code.csdn.net/snippets/627333&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;l
    
    </summary>
    
      <category term="Swift" scheme="http://consiiii.me/categories/Swift/"/>
    
    
      <category term="Swift" scheme="http://consiiii.me/tags/Swift/"/>
    
      <category term="datetime" scheme="http://consiiii.me/tags/datetime/"/>
    
  </entry>
  
  <entry>
    <title>Install LEMP on Debian</title>
    <link href="http://consiiii.me/2015/11/22/Install-LEMP-on-Debian/"/>
    <id>http://consiiii.me/2015/11/22/Install-LEMP-on-Debian/</id>
    <published>2015-11-22T06:05:23.000Z</published>
    <updated>2015-11-22T16:49:28.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;本文流程来自&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-debian-7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-debian-7&lt;/a&gt; ，并做了部分修改&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;LEMP安装的教程有很多，但是自己也做了一遍并纪录下来。&lt;/p&gt;
&lt;h2 id=&quot;LEMP&quot;&gt;&lt;a href=&quot;#LEMP&quot; class=&quot;headerlink&quot; title=&quot;LEMP&quot;&gt;&lt;/a&gt;LEMP&lt;/h2&gt;&lt;p&gt;LEMP指Linux(L),MySQL(M),PHP(P),Nginx(E,发音engine x).它和经典的LAMP不同的是把Apache替换成了Nignx.&lt;/p&gt;
&lt;p&gt;这篇文章主要纪录了如何去安装LEMP，以及一些相关的配置。&lt;/p&gt;
&lt;h2 id=&quot;1-update-apt-get&quot;&gt;&lt;a href=&quot;#1-update-apt-get&quot; class=&quot;headerlink&quot; title=&quot;1.update apt-get&quot;&gt;&lt;/a&gt;1.update apt-get&lt;/h2&gt;&lt;p&gt;开始之前，我们总要更新一下机器上的版本纪录，以获得最新的软件。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo apt-get update&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-apt-get-install-mysql-server&quot;&gt;&lt;a href=&quot;#2-apt-get-install-mysql-server&quot; class=&quot;headerlink&quot; title=&quot;2.apt-get install mysql-server&quot;&gt;&lt;/a&gt;2.apt-get install mysql-server&lt;/h2&gt;&lt;p&gt;输入&lt;br&gt;&lt;code&gt;sudo apt-get install mysql-server&lt;/code&gt;&lt;br&gt;，过程中会要求设置root密码；&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/Screen%20Shot%202015-11-23%20at%2000.46.09.png&quot; alt=&quot;mysql root password setting&quot;&gt;&lt;/p&gt;
&lt;p&gt;当安装完成后，可以用这些命令来完成mysql启动向导。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo mysql_install_db&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;然后再用&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo /usr/bin/mysql_secure_installation&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这条命令进入的时候会要求输入root的密码，然后请仔细阅读每条说明（是否删除匿名帐号，是否删除test数据库等等），输入y/n以选择。&lt;/p&gt;
&lt;h2 id=&quot;3-apt-get-install-nginx&quot;&gt;&lt;a href=&quot;#3-apt-get-install-nginx&quot; class=&quot;headerlink&quot; title=&quot;3. apt-get install nginx&quot;&gt;&lt;/a&gt;3. apt-get install nginx&lt;/h2&gt;&lt;p&gt;安装nginx&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo apt-get install nginx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;启动nginx&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo service nginx start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;OK!现在在浏览器中输入IP地址，看到以下类似的界面就说明成功了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/Screen%20Shot%202015-11-22%20at%2015.54.15.png&quot; alt=&quot;nginx&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用ifconfig eth0 | grep inet | awk ‘{ print $2 }’可以看到VPS的IP地址&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;配置nginx&quot;&gt;&lt;a href=&quot;#配置nginx&quot; class=&quot;headerlink&quot; title=&quot;配置nginx&quot;&gt;&lt;/a&gt;配置nginx&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sudo vim /etc/nginx/sites-available/default&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;更改配置参考到如下&lt;/p&gt;
&lt;figure class=&quot;highlight xquery&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; [...]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        listen   &lt;span class=&quot;number&quot;&gt;80&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		#root的地址页面文件所在位置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        root /usr/share/nginx/www;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        #不要忘记添加index.php&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        index index.php index.html index.htm;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		#在这里定义IP或者自己的域名 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        server_name example.com;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                try_files $uri $uri/ /index.html;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        error_page &lt;span class=&quot;number&quot;&gt;404&lt;/span&gt; /&lt;span class=&quot;number&quot;&gt;404&lt;/span&gt;.html;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        error_page &lt;span class=&quot;number&quot;&gt;500&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;502&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;503&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;504&lt;/span&gt; /&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;x.html;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        location = /&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;x.html &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              root /usr/share/nginx/www;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        # pass the PHP scripts to FastCGI server listening on /var/run/php5-fpm.sock&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        location ~ \.php$ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                try_files $uri =&lt;span class=&quot;number&quot;&gt;404&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                fastcgi_pass unix:/var/run/php5-fpm.sock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                fastcgi_index index.php;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                include fastcgi_params;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[...]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;4-apt-get-install-php5-fpm-php5-mysql&quot;&gt;&lt;a href=&quot;#4-apt-get-install-php5-fpm-php5-mysql&quot; class=&quot;headerlink&quot; title=&quot;4.apt-get install php5-fpm php5-mysql&quot;&gt;&lt;/a&gt;4.apt-get install php5-fpm php5-mysql&lt;/h2&gt;&lt;p&gt;安装php5 fpm&lt;br&gt;&lt;code&gt;sudo apt-get install php5-fpm php5-mysql&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;配置&quot;&gt;&lt;a href=&quot;#配置&quot; class=&quot;headerlink&quot; title=&quot;配置&quot;&gt;&lt;/a&gt;配置&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt; 位置：/etc/php5/fpm/php.ini&lt;/p&gt;
&lt;p&gt; 操作：将&lt;strong&gt;cgi.fix_pathinfo = 1&lt;/strong&gt; ,从&lt;strong&gt;1改成0&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; 说明：这一段代码可能是被注释的。cgi.fix_pathinfo＝1 时会有安全隐患。比如网站中有&lt;a href=&quot;http://xx.com/a.jpg这样一个文件，那么构造http://xx.com/a.jpg/foo.php可以查看这个文件的二进制内容，这意味着可以构造一个实际是php代码的图片，去执行一些用户自定义的操作。具体可以参考：http://www.laruence.com/2010/05/20/1495.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://xx.com/a.jpg这样一个文件，那么构造http://xx.com/a.jpg/foo.php可以查看这个文件的二进制内容，这意味着可以构造一个实际是php代码的图片，去执行一些用户自定义的操作。具体可以参考：http://www.laruence.com/2010/05/20/1495.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;位置：/etc/php5/fpm/pool.d/www.conf&lt;/p&gt;
&lt;p&gt; 操作：将&lt;code&gt;listen = 127.0.0.1:9000&lt;/code&gt;更改成&lt;code&gt;listen = /var/run/php5-fpm.sock&lt;/code&gt;&lt;/p&gt;
&lt;p&gt; 说明：&lt;strong&gt;新版本中默认就是&lt;code&gt;listen = /var/run/php5-fpm.sock&lt;/code&gt;&lt;/strong&gt;，所以那些不是这个值的情况下修改一下…&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;5-接近完成，测试一下&quot;&gt;&lt;a href=&quot;#5-接近完成，测试一下&quot; class=&quot;headerlink&quot; title=&quot;5.接近完成，测试一下&quot;&gt;&lt;/a&gt;5.接近完成，测试一下&lt;/h2&gt;&lt;p&gt;在html的目录下，创建一个info.php.写入：&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;php&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	phpinfo();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;顺便一下nginx&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo service nginx restart&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;现在在浏览器中键入 your.domain.com/info.php&lt;/p&gt;
&lt;p&gt;看见phpinfo了！完成 : D&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;本文流程来自&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-debian-7&quot; targ
    
    </summary>
    
      <category term="LEMP" scheme="http://consiiii.me/categories/LEMP/"/>
    
    
      <category term="LEMP" scheme="http://consiiii.me/tags/LEMP/"/>
    
      <category term="nginx" scheme="http://consiiii.me/tags/nginx/"/>
    
      <category term="php" scheme="http://consiiii.me/tags/php/"/>
    
      <category term="debian" scheme="http://consiiii.me/tags/debian/"/>
    
      <category term="linux" scheme="http://consiiii.me/tags/linux/"/>
    
      <category term="mysql" scheme="http://consiiii.me/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>SSH登录主机</title>
    <link href="http://consiiii.me/2015/11/22/SSH%E7%99%BB%E5%BD%95%E4%B8%BB%E6%9C%BA/"/>
    <id>http://consiiii.me/2015/11/22/SSH登录主机/</id>
    <published>2015-11-22T04:03:44.000Z</published>
    <updated>2016-04-01T05:37:49.000Z</updated>
    
    <content type="html">&lt;p&gt;今天想给自己新弄的一个主机配一下SSH，突然发现忘了部分操作细节，在此记录一下。&lt;/p&gt;
&lt;h2 id=&quot;1-生成密钥对&quot;&gt;&lt;a href=&quot;#1-生成密钥对&quot; class=&quot;headerlink&quot; title=&quot;1.生成密钥对&quot;&gt;&lt;/a&gt;1.生成密钥对&lt;/h2&gt;&lt;h3 id=&quot;使用ssh-gen&quot;&gt;&lt;a href=&quot;#使用ssh-gen&quot; class=&quot;headerlink&quot; title=&quot;使用ssh-gen&quot;&gt;&lt;/a&gt;使用ssh-gen&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ssh-keygen -t [rsa|dsa]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;过程当中会要求输入密码，但是如果输入了，那么远程登录主机的时候就会要求键入改密码&lt;br&gt;;如果想要的目的是免密码登录,密码请留空&lt;/p&gt;
&lt;h2 id=&quot;2-将公钥拷贝到目标主机&quot;&gt;&lt;a href=&quot;#2-将公钥拷贝到目标主机&quot; class=&quot;headerlink&quot; title=&quot;2.将公钥拷贝到目标主机&quot;&gt;&lt;/a&gt;2.将公钥拷贝到目标主机&lt;/h2&gt;&lt;p&gt;将公钥拷贝到~/.ssh中，远程上传可以使用scp命令&lt;/p&gt;
&lt;p&gt;&lt;code&gt;scp -r your/target/file/path user@ip:your/remote/file/path/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果主机下已经有authorized_keys，注意不要覆盖改文件，没有的话主动创建文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;touch ~/.ssh/authorized_keys&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;然后执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat rsa.pub &amp;gt;&amp;gt; authorized_keys&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或者本地执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat ~/.ssh/rsa.pub | ssh root@xx.xxx.xxx.xx  &amp;quot;mkdir -p ~/.ssh &amp;amp;&amp;amp; cat &amp;gt;&amp;gt;  ~/.ssh/authorized_keys&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;3-在本机添加标识&quot;&gt;&lt;a href=&quot;#3-在本机添加标识&quot; class=&quot;headerlink&quot; title=&quot;3.在本机添加标识&quot;&gt;&lt;/a&gt;3.在本机添加标识&lt;/h2&gt;&lt;p&gt;打开~/.ssh/config，没有的话就创建一个，书写格式为（替换[]中的内容为自己的配置）&lt;/p&gt;
&lt;figure class=&quot;highlight accesslog&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Host &lt;span class=&quot;string&quot;&gt;[myHost]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Hostname &lt;span class=&quot;string&quot;&gt;[123.123.123.123]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Port &lt;span class=&quot;string&quot;&gt;[21]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;User &lt;span class=&quot;string&quot;&gt;[myUser]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IdentityFile &lt;span class=&quot;string&quot;&gt;[ ~/.ssh/local_private_rsa]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;4-登录&quot;&gt;&lt;a href=&quot;#4-登录&quot; class=&quot;headerlink&quot; title=&quot;4.登录&quot;&gt;&lt;/a&gt;4.登录&lt;/h2&gt;&lt;p&gt;使用 &lt;code&gt;ssh myHost&lt;/code&gt; 进行登录&lt;/p&gt;
&lt;h2 id=&quot;5-可能出现的问题&quot;&gt;&lt;a href=&quot;#5-可能出现的问题&quot; class=&quot;headerlink&quot; title=&quot;5.可能出现的问题&quot;&gt;&lt;/a&gt;5.可能出现的问题&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;如果出现出现&lt;br&gt; &lt;code&gt;Permissions 0644 for &amp;#39;your/target/file&amp;#39; are too open.&lt;/code&gt;&lt;br&gt; 把权限改成0600就好了&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;今天想给自己新弄的一个主机配一下SSH，突然发现忘了部分操作细节，在此记录一下。&lt;/p&gt;
&lt;h2 id=&quot;1-生成密钥对&quot;&gt;&lt;a href=&quot;#1-生成密钥对&quot; class=&quot;headerlink&quot; title=&quot;1.生成密钥对&quot;&gt;&lt;/a&gt;1.生成密钥对&lt;/h2&gt;&lt;h3 i
    
    </summary>
    
      <category term="ssh" scheme="http://consiiii.me/categories/ssh/"/>
    
    
      <category term="ssh" scheme="http://consiiii.me/tags/ssh/"/>
    
      <category term="remote login" scheme="http://consiiii.me/tags/remote-login/"/>
    
  </entry>
  
  <entry>
    <title>Experience of HackShanghai 2015</title>
    <link href="http://consiiii.me/2015/11/09/Experience-of-HackShanghai-2015/"/>
    <id>http://consiiii.me/2015/11/09/Experience-of-HackShanghai-2015/</id>
    <published>2015-11-09T15:03:41.000Z</published>
    <updated>2015-12-16T16:19:08.000Z</updated>
    
    <content type="html">&lt;p&gt;2015年10月5日请假去了上海准备7,8日的hackShanghai 2015，并非常幸运的最后获得了第三名。但最大的收获是认识了三位有趣又厉害的伙伴：&lt;/p&gt;
&lt;p&gt;英国老叔叔（队长，现实是一个非常很萌的学姐)&lt;/p&gt;
&lt;p&gt;SandyHaaa(优雅的女子，英语非常好)&lt;/p&gt;
&lt;p&gt;wanghu205(迷之声线).&lt;/p&gt;
&lt;h2 id=&quot;开始&quot;&gt;&lt;a href=&quot;#开始&quot; class=&quot;headerlink&quot; title=&quot;开始&quot;&gt;&lt;/a&gt;开始&lt;/h2&gt;&lt;p&gt;由于我们被选入比赛时都是单身状态(没有组队进入比赛)，因此赛前互不认识。&lt;/p&gt;
&lt;p&gt;在进入了hackshanghai的选手圈后，我便在群内安静的找大腿抱。终于，“老叔叔”带着一个吊炸天的头像出现了，以下子被吸引住。当听到老叔叔说找队友时，立即求其好友。&lt;/p&gt;
&lt;p&gt;之后老叔叔又依次找来了wanghu205，SandyHaaa。&lt;br&gt;5日晚上，我们群内提出各种idea，SandyHaaa的想法是本次“Know Video”的雏形。&lt;/p&gt;
&lt;p&gt;过程遇到一个难以平衡的问题就是我们四个擅长的工作都不相同，交叉的领域似乎也不多。于是在”做什么“”怎么做“的问题上变得有些苦手。&lt;/p&gt;
&lt;p&gt;最后我们干脆取名“上海游击队”,有点自嘲的意味但是同时气氛也变得轻松。&lt;/p&gt;
&lt;p&gt;讨论断断续续持续到了次日（6日）下午近两点，最终敲定了Know Video的概念。&lt;/p&gt;
&lt;h2 id=&quot;过程&quot;&gt;&lt;a href=&quot;#过程&quot; class=&quot;headerlink&quot; title=&quot;过程&quot;&gt;&lt;/a&gt;过程&lt;/h2&gt;&lt;p&gt;由于这是一个Chrome插件，于是前端的知识还算有些用处，我就突然变成了主力……&lt;/p&gt;
&lt;p&gt;调配工作与资源分享时，曾尝试使用一些在线资料写作工具，后来因为网络太不稳定放弃了（除了我，科学上网是有好处的，哈哈哈)&lt;/p&gt;
&lt;p&gt;至于网络曾坏到什么地步就是我在分享ss时，队友的网络下载900k+的ss都成了问题,ORZ&lt;/p&gt;
&lt;p&gt;(很无奈最后我没分享成功，因为VPS搭建了好久我并不确定密码是多少，在试了好一些之后貌似都错了呢…)&lt;/p&gt;
&lt;p&gt;接着就是不停的看文档，代码，文档，代码，升级成为肝船少年郎。&lt;/p&gt;
&lt;p&gt;PS：话说队长说我写代码的时候脸都是黑的，她不开心，于是老是黑我！我天生长这样不行嘛！(╯°Д°）╯︵ /(.□ . )&lt;/p&gt;
&lt;p&gt;然后就是代码到黎明～&lt;/p&gt;
&lt;p&gt;wanghu205非常棒的给我们队拿来了许多零食，而我在他去交流的时候后面到处看&amp;gt;_&amp;lt;。&lt;/p&gt;
&lt;p&gt;半夜&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/2.pic_hd_1.jpg&quot; alt=&quot;http://7xngrd.com1.z0.glb.clouddn.com/2.pic_hd_1.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;清晨&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/1.pic_hd_1.jpg&quot; alt=&quot;http://7xngrd.com1.z0.glb.clouddn.com/1.pic_hd_1.jpg&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;准备演讲&quot;&gt;&lt;a href=&quot;#准备演讲&quot; class=&quot;headerlink&quot; title=&quot;准备演讲&quot;&gt;&lt;/a&gt;准备演讲&lt;/h2&gt;&lt;p&gt;次日上午6点左右，我的工作基本上完成了，所需要的效果差不多已经达到。&lt;/p&gt;
&lt;p&gt;接下来就是开始愉快的准备演讲，没我太多事啦.&lt;/p&gt;
&lt;p&gt;准备PPT，稿子等，SandyHaaa,wanghu205跟外国人聊天泰然自若的样子，我就只能在旁边站着看看…称自己英语不好的队长也是balabala一堆….我这个弱渣英语完全插不上话呀混蛋～T_T (决心好好练习口语)&lt;/p&gt;
&lt;p&gt;抽了个空闲，一起去游荡/围观其它人的作品，很自然地受到了刺激……&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img0.imgtn.bdimg.com/it/u=3884272796,358266646&amp;amp;fm=21&amp;amp;gp=0.jpg&quot; alt=&quot;Shocked&quot;&gt;&lt;/p&gt;
&lt;p&gt;怎么感觉好多都是和硬件联动的…..&amp;gt;_&amp;lt; &lt;/p&gt;
&lt;p&gt;演示是5分钟限制，建议是3分钟演讲＋2分钟QA。&lt;br&gt;第一场演示进去时好紧张，SandyHaaa流畅的演讲真是太赞，演示后评委笑了～有了“Instresting”的声音（我当作是褒义)，队伍松了一口气。&lt;/p&gt;
&lt;h2 id=&quot;结果&quot;&gt;&lt;a href=&quot;#结果&quot; class=&quot;headerlink&quot; title=&quot;结果&quot;&gt;&lt;/a&gt;结果&lt;/h2&gt;&lt;p&gt;在吃晚餐的时候听到进入Top9时！不敢置信但是又很开心（真实表里不一啊).&lt;br&gt;（队长在吃晚餐时给别人拿鸡块，一定是好人有好报)&lt;/p&gt;
&lt;p&gt;一翻角逐后最终获得第三名，非常开心。&lt;/p&gt;
&lt;p&gt;几位伙伴因为一个原因聚在了一起，竟然因此得到了第三名，这样的经历实在是太可贵且记忆深刻！&lt;/p&gt;
&lt;p&gt;比赛自此结束，分别也来的很快。&lt;/p&gt;
&lt;p&gt;最后的最后，夜晚，当我们走出NYU SH，都认为一定会再聚。&lt;/p&gt;
&lt;p&gt;谢谢三位伙伴～&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/IMG_1982.JPG&quot; alt=&quot;留念&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;2015年10月5日请假去了上海准备7,8日的hackShanghai 2015，并非常幸运的最后获得了第三名。但最大的收获是认识了三位有趣又厉害的伙伴：&lt;/p&gt;
&lt;p&gt;英国老叔叔（队长，现实是一个非常很萌的学姐)&lt;/p&gt;
&lt;p&gt;SandyHaaa(优雅的女子，英语非常好)
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>8个应该被知道的正则表达式</title>
    <link href="http://consiiii.me/2015/10/22/8%E4%B8%AA%E5%BA%94%E8%AF%A5%E8%A2%AB%E7%9F%A5%E9%81%93%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>http://consiiii.me/2015/10/22/8个应该被知道的正则表达式/</id>
    <published>2015-10-22T15:21:37.000Z</published>
    <updated>2016-01-15T14:32:21.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://code.tutsplus.com/tutorials/8-regular-expressions-you-should-know--net-6149&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;翻译自此处&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;正则表达式是一门独立的语言。当您在学习一门新的编程语言，它们可能是那种第一眼看上不太好懂的小语言。很多时候，您必须因此去阅读额外的教程，文章甚至书以求理解它所谓的”简单“的实例。今天，我们将回顾一下您在做下个一个项目前应该知道的，8个正则表达式。&lt;/p&gt;
&lt;h2 id=&quot;正则表达式的背景&quot;&gt;&lt;a href=&quot;#正则表达式的背景&quot; class=&quot;headerlink&quot; title=&quot;正则表达式的背景&quot;&gt;&lt;/a&gt;正则表达式的背景&lt;/h2&gt;&lt;p&gt;维基百科：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;正则表达式，又称正规表示式、正规表示法、正规表达式、规则表达式、常规表示法（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这段解释并没有真正告诉我们太多关于它实际上是以何种表现形式的。而我今天将要讲的，正是这形如\w,\s,\1，以及其它一些含义与“外表”看起来不那么一样的正则表达式。&lt;/p&gt;
&lt;p&gt;如果您愿意在阅读此篇文章之前去了解一下正则表达式，建议看看&lt;a href=&quot;http://www.multiurl.com/ga/regexdummies&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Regular Expressions for Dummies&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;我们将要提及的8个正则表达式将能够让您学习如何去匹配：用户名, 密码, 邮箱, 16进制（如#fff, #000), Slug, URL, IP地址, 还有HTML标签。随着程度深入，这些表达式将会变得更容易让人头晕。以下每一张放在开头的解释性图片，将很好的解释文章的内容，但是最后4个（正则表达式）通过阅读说明会更容易理解。&lt;/p&gt;
&lt;p&gt;记住正则表达式含义的关键点是它们几乎都是同时向前/向后搜索的。这句话将在我们谈到HTML标签的时候会更容易理解。&lt;/p&gt;
&lt;p&gt;注意：正则表达式中的分隔符是斜杠”/“。每一个匹配语句（以下也将翻译成匹配模式）开头和末尾都会跟着一个分隔符”/“。如果一个出线在表达式之内，那我们一定要通过反斜杠”\”将它转义，如：“\/”。&lt;/p&gt;
&lt;h2 id=&quot;1-匹配用户名&quot;&gt;&lt;a href=&quot;#1-匹配用户名&quot; class=&quot;headerlink&quot; title=&quot;1. 匹配用户名&quot;&gt;&lt;/a&gt;1. 匹配用户名&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/username.jpg&quot; alt=&quot;Matching a username&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：&quot;&gt;&lt;a href=&quot;#匹配模式：&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^[a-z0^9_-]{3,16}$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：&quot;&gt;&lt;a href=&quot;#解释：&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;让我们告诉解析器字符串的开头(通过使用&lt;strong&gt;^&lt;/strong&gt;)后面跟随着的是&lt;strong&gt;小写字母(a-z)/数字(0-9)/下划线/下划线&lt;/strong&gt;。接着，&lt;strong&gt;{3,16}&lt;/strong&gt;确保字符串应当有至少3个这样的字符，而且不超过16个。最后，字符串抵达尾部($).&lt;/p&gt;
&lt;h5 id=&quot;匹配&quot;&gt;&lt;a href=&quot;#匹配&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;my-us3r_n4m3&lt;/p&gt;
&lt;h5 id=&quot;不匹配&quot;&gt;&lt;a href=&quot;#不匹配&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;th1s1s-wayt00_l0ngt0beausername (因为太长了)&lt;/p&gt;
&lt;h2 id=&quot;2-匹配密码&quot;&gt;&lt;a href=&quot;#2-匹配密码&quot; class=&quot;headerlink&quot; title=&quot;2. 匹配密码&quot;&gt;&lt;/a&gt;2. 匹配密码&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/password.jpg&quot; alt=&quot;Mathing a Password&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：-1&quot;&gt;&lt;a href=&quot;#匹配模式：-1&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^[a-z0-9_-]{6,18}$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：-1&quot;&gt;&lt;a href=&quot;#解释：-1&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;匹配密码和匹配用户名非常相似。唯一的不同是这里要&lt;strong&gt;6到18位字母/数字/下划线/或者连字符&lt;/strong&gt;，而不是3到16位。&lt;/p&gt;
&lt;h5 id=&quot;匹配-1&quot;&gt;&lt;a href=&quot;#匹配-1&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;myp4ssw0rd&lt;/p&gt;
&lt;h5 id=&quot;不匹配-1&quot;&gt;&lt;a href=&quot;#不匹配-1&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;mypa$$w0rd (因为包含了$字符)&lt;/p&gt;
&lt;h2 id=&quot;3-匹配16进制数&quot;&gt;&lt;a href=&quot;#3-匹配16进制数&quot; class=&quot;headerlink&quot; title=&quot;3. 匹配16进制数&quot;&gt;&lt;/a&gt;3. 匹配16进制数&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/hex-copy.jpg&quot; alt=&quot;Maching a Hex Value&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：-2&quot;&gt;&lt;a href=&quot;#匹配模式：-2&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^#?([a-f0-9]{6}|[a-f0-9]{3})$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：-2&quot;&gt;&lt;a href=&quot;#解释：-2&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;符号^&lt;/strong&gt;告诉解析器字符串从哪里开始。是否匹配&lt;strong&gt;＃&lt;/strong&gt;是可选的，因为它后面跟着一个问号（译者注：?代表0个获1个）。&lt;strong&gt;问号?&lt;/strong&gt;告诉解释器，它前面的字符（这里是一个＃）是可选的。注意问号是“贪婪的”，这意味着如果这里有匹配的字符，问号就会去获取字符。接下来，在第一组里(第一组圆括号)，我们实现了两种不同的处理方式。第一个是a－f之间的小写字符或数字，要求出现6次。&lt;strong&gt;垂线｜&lt;/strong&gt;告诉我们，或者这里是a－f之间的小写字母或数字出现3次（译者注：这是16进制的简写）。最后，我们用$来结束字符串。&lt;/p&gt;
&lt;p&gt;这里把&lt;strong&gt;“匹配6个字符的要求”&lt;/strong&gt;放在前面的原因是，解释器先去会捕获#ffffff这样的16进制数。如果反一下，把&lt;strong&gt;“三个字符的要求”&lt;/strong&gt;放在前面，那么么解释器只会拿走#fff而不会捕获其它的3个f。&lt;/p&gt;
&lt;h5 id=&quot;匹配-2&quot;&gt;&lt;a href=&quot;#匹配-2&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;#a3c113&lt;/p&gt;
&lt;p&gt;#333&lt;/p&gt;
&lt;p&gt;#f66h23 (匹配#f66)&lt;/p&gt;
&lt;h5 id=&quot;不匹配-2&quot;&gt;&lt;a href=&quot;#不匹配-2&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;#4h82f4 (#4h8不匹配)&lt;/p&gt;
&lt;h2 id=&quot;4-匹配Slug&quot;&gt;&lt;a href=&quot;#4-匹配Slug&quot; class=&quot;headerlink&quot; title=&quot;4. 匹配Slug&quot;&gt;&lt;/a&gt;4. 匹配Slug&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/slug.jpg&quot; alt=&quot;Matching a &amp;quot;Slug&amp;quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：-3&quot;&gt;&lt;a href=&quot;#匹配模式：-3&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^[a-z0-9-]+$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：-3&quot;&gt;&lt;a href=&quot;#解释：-3&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;如果您曾经使用过mod_rewrite以及URL美化，那您大概是会使用正则表达式的。先让解释器去找到字符串的头(^)，其后匹配&lt;strong&gt;一个或多个字符/数字/连字符&lt;/strong&gt;。最后，需要匹配到的字符串到这此结束（$）.&lt;/p&gt;
&lt;h5 id=&quot;匹配-3&quot;&gt;&lt;a href=&quot;#匹配-3&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;my-title-here&lt;/p&gt;
&lt;h5 id=&quot;不匹配-3&quot;&gt;&lt;a href=&quot;#不匹配-3&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;my_title_here (包含下划线)&lt;/p&gt;
&lt;h2 id=&quot;5-匹配邮件&quot;&gt;&lt;a href=&quot;#5-匹配邮件&quot; class=&quot;headerlink&quot; title=&quot;5. 匹配邮件&quot;&gt;&lt;/a&gt;5. 匹配邮件&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/email.jpg&quot; alt=&quot;Matching a Email&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：-4&quot;&gt;&lt;a href=&quot;#匹配模式：-4&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：-4&quot;&gt;&lt;a href=&quot;#解释：-4&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;先让解释器找到字符串的头(^)。然后里面第一组，我们匹配&lt;strong&gt;一个或多个小写字母/数字/下划线/点/破折号&lt;/strong&gt;。我转义了“.”，因为一个没有转义的“.”代表着任何字符（译者注：\. 将 “.” 转义，以匹配字符意义上的”.” ）。在这个分组后面必须直接跟着一个“@”。接下来域名必须匹配上这样的规则：1个或多个小写字母，数字，下划线，点或者破折号。借着又是一个（转义的）“.”，后面跟着2到6位的小写字母或者”.”。限制2到6位是因为有国家的顶级域名这种东西(.ny.us 或者 .co.uk)。最后，我们要求字符串到此结束($)。&lt;/p&gt;
&lt;h5 id=&quot;匹配-4&quot;&gt;&lt;a href=&quot;#匹配-4&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;john@doe.com&lt;/p&gt;
&lt;h5 id=&quot;不匹配-4&quot;&gt;&lt;a href=&quot;#不匹配-4&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;john@doe.something (顶级域名太长了)&lt;/p&gt;
&lt;h2 id=&quot;6-匹配URL&quot;&gt;&lt;a href=&quot;#6-匹配URL&quot; class=&quot;headerlink&quot; title=&quot;6. 匹配URL&quot;&gt;&lt;/a&gt;6. 匹配URL&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/url.jpg&quot; alt=&quot;Matching a URL&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式&quot;&gt;&lt;a href=&quot;#匹配模式&quot; class=&quot;headerlink&quot; title=&quot;匹配模式&quot;&gt;&lt;/a&gt;匹配模式&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/&lt;/code&gt;&lt;br&gt;(译者注：在最后一个分组内原文允许匹配空格，但URL中的空格一般在表示时通常会使用urlencode一类的来转义成“+“一类的)&lt;/p&gt;
&lt;h5 id=&quot;解释&quot;&gt;&lt;a href=&quot;#解释&quot; class=&quot;headerlink&quot; title=&quot;解释&quot;&gt;&lt;/a&gt;解释&lt;/h5&gt;&lt;p&gt;这个正则超像是上面所写的表达式们的杂烩形式，不过是将它们组合于一些文件结构和“ http:// ”之间罢了。其实它比看起来的样子要简单。在开始匹配之前，我们照例先搜寻用脱字符(^)来搜寻一行的开始。&lt;/p&gt;
&lt;p&gt;第一个要捕捉的部分全部都是可选的。它允许URL以“ http:// ”开头，亦或以“ https:// ”开头，亦或都不使用上述两种。在这之后我设置了一个问号，它告诉URL去匹配https或者http.为了使整个分组可选，需要在末尾再添加一个问号。&lt;/p&gt;
&lt;p&gt;截下来匹配域名：&lt;strong&gt;一个或多个数字/字母/点/连字符&lt;/strong&gt;。域名后面跟随着一个点，之后是2-6个字母或点。接下来这部分为可选的文件／目录结构。在这个部分中，需要匹配任意数量的 &lt;strong&gt;斜杠/字母/下划线/点/连字符&lt;/strong&gt; 。只要我们需要，这个部分可以匹配任意多次数。多重结构都会被匹配，但是最后以一个文件作为结尾。我在这里使用了”&lt;em&gt;“而不是问号，因为”&lt;/em&gt;“表示0或多个，而不是表示0或1个（译者注：问号表示0或1个）。如果问号被用在这里，那么将会只有一个文件/目录能够被匹配上。&lt;/p&gt;
&lt;p&gt;接着一个反斜杠”/“可以被匹配，但这是可选的。最后我们结束字符串。&lt;/p&gt;
&lt;h5 id=&quot;匹配-5&quot;&gt;&lt;a href=&quot;#匹配-5&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;&lt;a href=&quot;http://net.tutsplus.com/about&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://net.tutsplus.com/about&lt;/a&gt;&lt;/p&gt;
&lt;h5 id=&quot;不匹配-5&quot;&gt;&lt;a href=&quot;#不匹配-5&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;&lt;a href=&quot;http://google.com/some/file!.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://google.com/some/file!.html&lt;/a&gt; (包含感叹号)&lt;/p&gt;
&lt;h2 id=&quot;7-匹配IP地址&quot;&gt;&lt;a href=&quot;#7-匹配IP地址&quot; class=&quot;headerlink&quot; title=&quot;7. 匹配IP地址&quot;&gt;&lt;/a&gt;7. 匹配IP地址&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/ip.jpg&quot; alt=&quot;Matching an IP Address&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：-5&quot;&gt;&lt;a href=&quot;#匹配模式：-5&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：-5&quot;&gt;&lt;a href=&quot;#解释：-5&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;我不准备说谎，我没有写这个正则，而是从&lt;a href=&quot;http://www.regular-expressions.info/regexbuddy/ipaccurate.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;得到了它。但这不代表我现在不能逐字逐句地分析它。&lt;/p&gt;
&lt;p&gt;第一个要求捕获的分组其实不是一个被捕获的分组（原文：The first capture group really isn’t a captured group），因为&lt;/p&gt;
&lt;p&gt;&lt;code&gt;(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;“?:”告诉解释器不要去捕获这个分组（更多内容在最后一个正则表达式会说明)。通过把”{3}”放在这个组别的后面，我们还要求了这个不被捕获的分组需重复3次。这个组别包含了一个子组，和一个”.”。解释器会去尝试匹配子组及”.”，然后继续。&lt;/p&gt;
&lt;p&gt;这个子组是又一个非捕获组。它只是一堆在括号中的字符集：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;字符串“25”后面需要跟随0-5之间的数字；&lt;/li&gt;
&lt;li&gt;或字符“2”后面要跟着0-4，然后是一位任意数字；&lt;/li&gt;
&lt;li&gt;或是一个可选0和1，后面跟着两位数字，其中第二位是可选的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最后我们结束匹配这个让人头晕的正则表达式。&lt;/p&gt;
&lt;h5 id=&quot;匹配-6&quot;&gt;&lt;a href=&quot;#匹配-6&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;73.60.124.136 &lt;/p&gt;
&lt;h5 id=&quot;不匹配-6&quot;&gt;&lt;a href=&quot;#不匹配-6&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;256.60.124.136 (第一个分组得在0-255之间)&lt;/p&gt;
&lt;h2 id=&quot;8-匹配HTML标签&quot;&gt;&lt;a href=&quot;#8-匹配HTML标签&quot; class=&quot;headerlink&quot; title=&quot;8. 匹配HTML标签&quot;&gt;&lt;/a&gt;8. 匹配HTML标签&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cdn.tutsplus.com/net/uploads/legacy/404_regularExpressions/images/htmltag.jpg&quot; alt=&quot;Matching an HTML Tag&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;匹配模式：-6&quot;&gt;&lt;a href=&quot;#匹配模式：-6&quot; class=&quot;headerlink&quot; title=&quot;匹配模式：&quot;&gt;&lt;/a&gt;匹配模式：&lt;/h5&gt;&lt;p&gt;&lt;code&gt;/^&amp;lt;([a-z]+)([^&amp;lt;]+)*(?:&amp;gt;(.*)&amp;lt;\/\1&amp;gt;|\s+\/&amp;gt;)$/&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;解释：-6&quot;&gt;&lt;a href=&quot;#解释：-6&quot; class=&quot;headerlink&quot; title=&quot;解释：&quot;&gt;&lt;/a&gt;解释：&lt;/h5&gt;&lt;p&gt;又一个有用的正则表达式！它匹配任何HTML标签还有其中的内容，我们用一行的开头来开始匹配。&lt;/p&gt;
&lt;p&gt;第一个要匹配的是标签的名字。它必须是1或多个字符。这是一个捕获组，这东西在我们捕获闭标签时相当有用。截下来是标签的属性。它是除符号&amp;gt;外的任意字符。因为这是可选的，但我又需要匹配上多个字符串，所以使用了符号*。加号的使用能匹配属性和值(译者注：加号代表一个或多个)，星号 * 则能表示任意数量的属性。&lt;/p&gt;
&lt;p&gt;接下里第三个是非捕获组。里面包含了一个大于号(&amp;gt;)，一些文本内容，和一个闭标签；或是一些空格，一个反斜杠(/),\1用来表示捕获的内容要在一个捕获分组内。在这种情况下它是标签的名字。现在，如果这里不能匹配，我们就需要寻找一个自关闭标签（像是img,br,或者hr标签）。这需要有一个或多个空格，其后跟随着 “/&amp;gt;”。&lt;/p&gt;
&lt;p&gt;正则表达式结束于行末。&lt;/p&gt;
&lt;h5 id=&quot;匹配-7&quot;&gt;&lt;a href=&quot;#匹配-7&quot; class=&quot;headerlink&quot; title=&quot;匹配&quot;&gt;&lt;/a&gt;匹配&lt;/h5&gt;&lt;p&gt;&lt;code&gt;&amp;lt;a href=&amp;quot;http://net.tutsplus.com/&amp;quot;&amp;gt;Nettuts+&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;不匹配-7&quot;&gt;&lt;a href=&quot;#不匹配-7&quot; class=&quot;headerlink&quot; title=&quot;不匹配&quot;&gt;&lt;/a&gt;不匹配&lt;/h5&gt;&lt;p&gt;&lt;code&gt;&amp;lt;img src=&amp;quot;img.jpg&amp;quot; alt=&amp;quot;My image&amp;gt;&amp;quot; /&amp;gt;&lt;/code&gt; (属性中不能包含大符号)&lt;/p&gt;
&lt;h2 id=&quot;结论&quot;&gt;&lt;a href=&quot;#结论&quot; class=&quot;headerlink&quot; title=&quot;结论&quot;&gt;&lt;/a&gt;结论&lt;/h2&gt;&lt;p&gt;希望您能领略到正则表达式背后的一些想法和思维。愿您能在未来的项目中使用这些正则表达式！很多时候您不必一个字符一个字符地去解读正则表达式，但是有时这样做能帮助您去学习到一些东西。请记住：不要害怕正则表达式，它们不如所看到的那样（晦涩难懂），它们反而能让您的生活变得更加简单。&lt;/p&gt;
&lt;p&gt;要不要尝试下不使用正则表达式来从字符串中抓取标签的名字呢！ ;)&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://code.tutsplus.com/tutorials/8-regular-expressions-you-should-know--net-6149&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;翻译自此处&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Regex" scheme="http://consiiii.me/categories/Regex/"/>
    
    
      <category term="Regex" scheme="http://consiiii.me/tags/Regex/"/>
    
  </entry>
  
  <entry>
    <title>The model used to open the store is incompatible with the one used to create the store</title>
    <link href="http://consiiii.me/2015/10/17/The-model-used-to-open-the-store-is-incompatible-with-the-one-used-to-create-the-store/"/>
    <id>http://consiiii.me/2015/10/17/The-model-used-to-open-the-store-is-incompatible-with-the-one-used-to-create-the-store/</id>
    <published>2015-10-17T01:47:18.000Z</published>
    <updated>2016-03-20T05:33:14.000Z</updated>
    
    <content type="html">&lt;p&gt;使用CoreData更改了实体的字段后出现出错”The model used to open the store is incompatible with the one used to create the store”.&lt;/p&gt;
&lt;p&gt;删除app后，重新编辑就好了。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;使用CoreData更改了实体的字段后出现出错”The model used to open the store is incompatible with the one used to create the store”.&lt;/p&gt;
&lt;p&gt;删除app后，重新编辑就好了。&lt;/
    
    </summary>
    
      <category term="Slots" scheme="http://consiiii.me/categories/Slots/"/>
    
      <category term="Xcode" scheme="http://consiiii.me/categories/Slots/Xcode/"/>
    
    
      <category term="Xcode" scheme="http://consiiii.me/tags/Xcode/"/>
    
      <category term="Slots" scheme="http://consiiii.me/tags/Slots/"/>
    
  </entry>
  
  <entry>
    <title>HTTPS: 应用SSL到Nginx站点</title>
    <link href="http://consiiii.me/2015/10/16/HTTPS-%E5%BA%94%E7%94%A8SSL%E5%88%B0%E7%AB%99%E7%82%B9/"/>
    <id>http://consiiii.me/2015/10/16/HTTPS-应用SSL到站点/</id>
    <published>2015-10-16T11:10:05.000Z</published>
    <updated>2016-03-16T12:29:40.000Z</updated>
    
    <content type="html">&lt;p&gt;通过提交CSR一些可靠的第三方SSL签发机构，得到颁发的CRT文件，我们可以将自己的站点实现上HTTPS访问。&lt;/p&gt;
&lt;p&gt;一些可靠的第三方SSL签发机构在文末列出。&lt;/p&gt;
&lt;h2 id=&quot;1-使用OpenSSL生成Key和CSR&quot;&gt;&lt;a href=&quot;#1-使用OpenSSL生成Key和CSR&quot; class=&quot;headerlink&quot; title=&quot;1. 使用OpenSSL生成Key和CSR&quot;&gt;&lt;/a&gt;1. 使用OpenSSL生成Key和CSR&lt;/h2&gt;&lt;p&gt;&lt;code&gt;openssl req -nodes -newkey rsa:2048 -keyout example.key -out example.csr&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;该命令生成一个2048位的Key文件和CSR文件。如果您的服务器性能足够，也可以使用4096位。不选择1024位是因为（简单来说）现在的计算机性能越来越好，其算法被破解的难度大大降低了。&lt;/p&gt;
&lt;p&gt;生成私钥时会向您询问一些信息，其中：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Common Name (e.g. server FQDN or YOUR name) []: YOUR INPUT&lt;/code&gt;一项在此处填写的是域名，因为我们在给网站应用上HTTPS。&lt;/p&gt;
&lt;h2 id=&quot;2-获取CRT文件&quot;&gt;&lt;a href=&quot;#2-获取CRT文件&quot; class=&quot;headerlink&quot; title=&quot;2. 获取CRT文件&quot;&gt;&lt;/a&gt;2. 获取CRT文件&lt;/h2&gt;&lt;p&gt;通过您信赖的第三方CA机构（文末列出了一些第三方机构），提供CSR文件，其一般会给您颁发一个CRT文件。现在，您一共有了三个文件：&lt;code&gt;example.key&lt;/code&gt;, &lt;code&gt;example.csr&lt;/code&gt;, &lt;code&gt;example.crt&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;3-在服务区上配置&quot;&gt;&lt;a href=&quot;#3-在服务区上配置&quot; class=&quot;headerlink&quot; title=&quot;3. 在服务区上配置&quot;&gt;&lt;/a&gt;3. 在服务区上配置&lt;/h2&gt;&lt;p&gt;首先将key和crt上传至服务器任意一个目录下，这里假设您上传至了&lt;code&gt;/etc/ssl/private/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;然后修改Nginx配置：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        listen 80;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        listen [::]:80;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        listen 443 ssl default_server;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        listen [::]:443 ssl default_server;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        #ssl on; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ssl_certificate /etc/ssl/private/example.crt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ssl_certificate_key /etc/ssl/private/example.key;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ssl_ciphers ALL:!DH:!EXPORT:!RC4:+HIGH:+MEDIUM:!LOW:!aNULL:!eNULL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;保存并退出, 重启Nginx，访问&lt;a href=&quot;https://example.com即可查看到效果啦！&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://example.com即可查看到效果啦！&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以使用&lt;code&gt;nginx -t &amp;amp;&amp;amp; nginx -s reload&lt;/code&gt;来检测语法并且重启，或者直接使用&lt;code&gt;killall -HUP nginx&lt;/code&gt;来平滑启动nginx。&lt;/p&gt;
&lt;p&gt;如果取消注释&lt;code&gt;ssl on&lt;/code&gt;，那么&lt;strong&gt;在没有其他措施的情况下&lt;/strong&gt;，正常访问&lt;a href=&quot;http://example.com，会显示错误：&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://example.com，会显示错误：&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight elm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;The&lt;/span&gt; plain &lt;span class=&quot;type&quot;&gt;HTTP&lt;/span&gt; request was sent to &lt;span class=&quot;type&quot;&gt;HTTPS&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;port&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;4-可靠第三方SSL签发机构&quot;&gt;&lt;a href=&quot;#4-可靠第三方SSL签发机构&quot; class=&quot;headerlink&quot; title=&quot;4. 可靠第三方SSL签发机构&quot;&gt;&lt;/a&gt;4. 可靠第三方SSL签发机构&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;此处信息摘自于&lt;a href=&quot;https://s.how/nginx-ssl/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;此处&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;目前一般市面上针对中小站长和企业的 SSL 证书颁发机构有：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.startssl.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;StartSSL&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.comodo.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Comodo&lt;/a&gt; / 子品牌 &lt;a href=&quot;https://www.positivessl.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Positive SSL&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.globalsign.com/en/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GlobalSign&lt;/a&gt; / 子品牌 &lt;a href=&quot;https://www.alphassl.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AlphaSSL&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.geotrust.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GeoTrust&lt;/a&gt;/ 子品牌 &lt;a href=&quot;https://www.rapidssl.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;RapidSSL&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中 Postivie SSL、AlphaSSL、RapidSSL 等都是子品牌，一般都是三级四级证书，所以你会需要增加 CA 证书链到你的 CRT 文件里。&lt;/p&gt;
&lt;p&gt;以 Comodo Positive SSL 为例，需要串联 CA 证书，假设你的域名是 example.com&lt;/p&gt;
&lt;p&gt;那么，串联的命令是&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat example_com&lt;span class=&quot;selector-class&quot;&gt;.crt&lt;/span&gt; COMODORSADomainValidationSecureServerCA&lt;span class=&quot;selector-class&quot;&gt;.crt&lt;/span&gt; COMODORSAAddTrustCA&lt;span class=&quot;selector-class&quot;&gt;.crt&lt;/span&gt; AddTrustExternalCARoot&lt;span class=&quot;selector-class&quot;&gt;.crt&lt;/span&gt; &amp;gt; example_com&lt;span class=&quot;selector-class&quot;&gt;.signed&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.crt&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;在 Nginx 配置里使用 example_com.signed.crt 即可&lt;/p&gt;
&lt;p&gt;如果是一般常见的 AplhaSSL 泛域名证书，他们是不会发给你 CA 证书链的，那么在你的 CRT 文件后面需要加入 AlphaSSL 的 CA 证书链&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.alphassl.com/support/install-root-certificate.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AlphaSSL Intermediate CA&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;通过提交CSR一些可靠的第三方SSL签发机构，得到颁发的CRT文件，我们可以将自己的站点实现上HTTPS访问。&lt;/p&gt;
&lt;p&gt;一些可靠的第三方SSL签发机构在文末列出。&lt;/p&gt;
&lt;h2 id=&quot;1-使用OpenSSL生成Key和CSR&quot;&gt;&lt;a href=&quot;#1-使用Open
    
    </summary>
    
      <category term="SSL" scheme="http://consiiii.me/categories/SSL/"/>
    
    
      <category term="SSL" scheme="http://consiiii.me/tags/SSL/"/>
    
      <category term="HTTPS" scheme="http://consiiii.me/tags/HTTPS/"/>
    
      <category term="Nginx" scheme="http://consiiii.me/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>解决Finder的CPU占有率频繁居高不下问题</title>
    <link href="http://consiiii.me/2015/10/15/%E8%A7%A3%E5%86%B3Finder%E7%9A%84CPU%E5%8D%A0%E6%9C%89%E7%8E%87%E9%A2%91%E7%B9%81%E5%B1%85%E9%AB%98%E4%B8%8D%E4%B8%8B%E9%97%AE%E9%A2%98/"/>
    <id>http://consiiii.me/2015/10/15/解决Finder的CPU占有率频繁居高不下问题/</id>
    <published>2015-10-14T16:21:00.000Z</published>
    <updated>2015-10-14T16:28:03.000Z</updated>
    
    <content type="html">&lt;p&gt;症状：升级El Capitan后，Finder的CPU占有率经常居高不下，100%及以上，连接着Xcode，FF，Chrome也会经常暴增到100%及以上，打字都会卡，十分影响日常。&lt;/p&gt;
&lt;p&gt;周围：Google搜索有一些帖子反应这个问题，一个帖子里说Apple承认这是El的一个bug并且在修复了。&lt;/p&gt;
&lt;p&gt;我的解决办法：关机，开机，然后离开command+option+r+p.听到3声启动声音后松开，这招据说是apple客服传授的，用于重置PRAM和NVRAM。&lt;/p&gt;
&lt;p&gt;效果：开机快了好多，到现在为止finder不会再暴到100%了。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;症状：升级El Capitan后，Finder的CPU占有率经常居高不下，100%及以上，连接着Xcode，FF，Chrome也会经常暴增到100%及以上，打字都会卡，十分影响日常。&lt;/p&gt;
&lt;p&gt;周围：Google搜索有一些帖子反应这个问题，一个帖子里说Apple承认这是
    
    </summary>
    
      <category term="Mac" scheme="http://consiiii.me/categories/Mac/"/>
    
    
      <category term="Mac" scheme="http://consiiii.me/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>El Capitan下Sass命令无用的解决办法</title>
    <link href="http://consiiii.me/2015/10/11/El-Capitan%E4%B8%8BSass%E5%91%BD%E4%BB%A4%E6%97%A0%E7%94%A8%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
    <id>http://consiiii.me/2015/10/11/El-Capitan下Sass命令无用的解决办法/</id>
    <published>2015-10-11T14:07:24.000Z</published>
    <updated>2015-10-11T14:22:23.000Z</updated>
    
    <content type="html">&lt;p&gt;更新上El Capitan之后使用ruby依赖的相关包出现问题，包括cocoapod，sass,compass等。&lt;br&gt;输入命令后提示 command not found.找到原因是因为ruby的位置换了（这里不甚了解）。&lt;br&gt;例如错误：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ERROR:  While executing gem ... (Errno::EPERM)
Operation not permitted - /usr/bin/sass
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;找到的一个解决办法是；&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo gem install -n /usr/local/bin GEM_NAME_HERE
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;话说难道不能直接替换ruby的源吗，感觉这样做不太科学（其实也感觉不方便）。&lt;br&gt;应该有一个变量地址记录着Ruby的地址的吧，但是“该怎么做”还没找到。&lt;/p&gt;
&lt;p&gt;—&lt;br&gt;找到一个解决的博文：&lt;br&gt;&lt;a href=&quot;https://medium.com/@lab.5721/os-x-el-capitan-10-11-%E5%AE%89%E8%A3%9Dsass%E5%A4%B1%E6%95%97%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95-3739ad67c553&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;点击这里&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;更新上El Capitan之后使用ruby依赖的相关包出现问题，包括cocoapod，sass,compass等。&lt;br&gt;输入命令后提示 command not found.找到原因是因为ruby的位置换了（这里不甚了解）。&lt;br&gt;例如错误：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
    
    </summary>
    
      <category term="Ruby" scheme="http://consiiii.me/categories/Ruby/"/>
    
    
      <category term="Sass" scheme="http://consiiii.me/tags/Sass/"/>
    
      <category term="El Capitan" scheme="http://consiiii.me/tags/El-Capitan/"/>
    
      <category term="Ruby" scheme="http://consiiii.me/tags/Ruby/"/>
    
  </entry>
  
  <entry>
    <title>记一次服务器的故障</title>
    <link href="http://consiiii.me/2015/10/07/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%95%85%E9%9A%9C/"/>
    <id>http://consiiii.me/2015/10/07/记一次服务器的故障/</id>
    <published>2015-10-07T15:58:51.000Z</published>
    <updated>2015-12-16T16:13:37.000Z</updated>
    
    <content type="html">&lt;p&gt;今天下午，突然发现维护的一个网站莫名其妙莫名其妙上不去了，症状是访问网站返回特别慢（两分钟），简直就是没有返回。&lt;br&gt;以为可能是国庆服务宕了，于是登录上服务器（LAMP)，重启服务，但是没有效果。&lt;/p&gt;
&lt;p&gt;国庆期间应该没人动过服务器上网站的文件，重新部署了一下代码，重启服务，还是没有效果。&lt;/p&gt;
&lt;p&gt;然后查看服务器性能：CPU 19%，磁盘读写正常，网络性能20% 。&lt;br&gt;那感觉还是代码原因？但是代码没有动过，也重新部署了一份确认有效的代码，不应该呀。&lt;br&gt;于是写了个target.php放到服务器上，里面就一句话&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;target not here.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;访问这个target.php,同样两分钟才有返回。&lt;br&gt;curl测试一下IP响应的时间，status 200 OK，但是一个网页的返回时间长达2分钟。&lt;/p&gt;
&lt;p&gt;给跪了。问身边朋友，提醒可能是线路原因。于是去找UCloud的客服，和客服Balabala了情况一堆，提到DNS解析云云。&lt;br&gt;绕了一圈最终是无果。&lt;/p&gt;
&lt;p&gt;我决定自己再去排查一下，到处捣鼓，发现一个奇怪的症状。&lt;br&gt;就是把根目录下的.htaccess文件给移走（我是改名字，效用相同），网站首页立马就能访问了。但是由于地址重写原因，其他页面访问不到。&lt;br&gt;加上.htaccess，网站又死了，两分钟才有返回。&lt;/p&gt;
&lt;p&gt;Google搜索“.htaccess 变慢”或者“.htaccess slow”没找到有效资料。无从下手，难道是apache的锅？&lt;br&gt;然而重启apache也没有用，而且这个htaccess已经用了那么久就都好好的，为什么就现在不行了呢？&lt;/p&gt;
&lt;p&gt;最后，&lt;br&gt;22:00左右的时候，重启啊什么的捣鼓下，网站好了。&lt;br&gt;嗯，就是这样，莫名其妙好了。&lt;/p&gt;
&lt;p&gt;我突然想到朋友说什么“上线之前也要开个光。”&lt;/p&gt;
&lt;p&gt;嘛，水平还不够。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;今天下午，突然发现维护的一个网站莫名其妙莫名其妙上不去了，症状是访问网站返回特别慢（两分钟），简直就是没有返回。&lt;br&gt;以为可能是国庆服务宕了，于是登录上服务器（LAMP)，重启服务，但是没有效果。&lt;/p&gt;
&lt;p&gt;国庆期间应该没人动过服务器上网站的文件，重新部署了一下代码，
    
    </summary>
    
      <category term="Slots" scheme="http://consiiii.me/categories/Slots/"/>
    
    
      <category term=".htaccess" scheme="http://consiiii.me/tags/htaccess/"/>
    
      <category term="Apache" scheme="http://consiiii.me/tags/Apache/"/>
    
  </entry>
  
  <entry>
    <title>PHP中的短数组语法[]与array()</title>
    <link href="http://consiiii.me/2015/10/03/PHP%E4%B8%AD%E7%9A%84%E7%9F%AD%E6%95%B0%E7%BB%84%E8%AF%AD%E6%B3%95%5B%5D%E4%B8%8Earray()/"/>
    <id>http://consiiii.me/2015/10/03/PHP中的短数组语法[]与array()/</id>
    <published>2015-10-02T17:18:03.000Z</published>
    <updated>2016-03-16T09:22:16.000Z</updated>
    
    <content type="html">&lt;p&gt;PHP的数组可以有以下方式来表达.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$array = [1,2,3,4,5];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;亦或&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$array = array(1,2,3,4,5);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但是[]中括号的表达方式需要&lt;strong&gt;PHP版本&amp;gt;=5.4&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;在给学院做一个CMS的时候，本地测试正常后，放上空间一律返回403 Fobbiden错误（调试关闭）。&lt;/p&gt;
&lt;p&gt;究其原因是不清楚服务器版本，而写的时候比较想着方便先用中括号，写完之后过了两周才上传，有点淡忘此事。特此记录，长长记性(╯°Д°）╯︵ /(.□ . )&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;PHP的数组可以有以下方式来表达.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$array = [1,2,3,4,5];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;亦或&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$array = array(1,2,3,4,5);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但是[]中
    
    </summary>
    
      <category term="PHP" scheme="http://consiiii.me/categories/PHP/"/>
    
    
      <category term="PHP" scheme="http://consiiii.me/tags/PHP/"/>
    
  </entry>
  
</feed>
