<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Consiiii</title>
  <subtitle>Continue BREAK</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://consiiii.me/"/>
  <updated>2017-01-18T10:00:15.000Z</updated>
  <id>http://consiiii.me/</id>
  
  <author>
    <name>Consiiii</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>让Terminal全局使用SOCKS代理</title>
    <link href="http://consiiii.me/2017/01/18/%E8%AE%A9Terminal%E5%85%A8%E5%B1%80%E4%BD%BF%E7%94%A8SOCKS%E4%BB%A3%E7%90%86/"/>
    <id>http://consiiii.me/2017/01/18/让Terminal全局使用SOCKS代理/</id>
    <published>2017-01-18T09:39:43.000Z</published>
    <updated>2017-01-18T10:00:15.000Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; ALL_PROXY=socks5:&lt;span class=&quot;comment&quot;&gt;//127.0.0.1:1080&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# DO IT!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/t
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>利用key更新React中defaultValue</title>
    <link href="http://consiiii.me/2017/01/09/%E5%88%A9%E7%94%A8key%E6%9B%B4%E6%96%B0React%E4%B8%ADdefaultValue/"/>
    <id>http://consiiii.me/2017/01/09/利用key更新React中defaultValue/</id>
    <published>2017-01-08T16:13:26.000Z</published>
    <updated>2017-01-08T16:13:26.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>Colon in Ruby</title>
    <link href="http://consiiii.me/2016/12/29/Colon-in-Ruby/"/>
    <id>http://consiiii.me/2016/12/29/Colon-in-Ruby/</id>
    <published>2016-12-29T03:34:50.000Z</published>
    <updated>2016-12-29T03:35:26.000Z</updated>
    
    <content type="html">&lt;p&gt;1) abc: it can’t exist independently&lt;/p&gt;
&lt;p&gt;2) :xyz it is a symbol&lt;/p&gt;
&lt;p&gt;:xyz.class&lt;br&gt; =&amp;gt; Symbol&lt;br&gt;3) abc::xyz it represents namespace&lt;/p&gt;
&lt;p&gt;Example code:&lt;/p&gt;
&lt;p&gt;module ABC&lt;br&gt;    class Xyz&lt;br&gt;       def initialize&lt;br&gt;         @size = 400&lt;br&gt;       end&lt;br&gt;    end&lt;br&gt;end&lt;/p&gt;
&lt;p&gt;x = ABC::Xyz.new&lt;br&gt;4) abc: :xyz&lt;/p&gt;
&lt;p&gt;hash = {abc: :xyz} #hash key and value all are symbol.&lt;br&gt;5) abc: xyz&lt;/p&gt;
&lt;p&gt;xyz = “just a test”&lt;br&gt;hash = {abc: xyz} #hash key is symbol, value is string.&lt;br&gt;6) :abc =&amp;gt; xyz&lt;/p&gt;
&lt;p&gt;xyz = “just a test”&lt;br&gt;hash = {:abc =&amp;gt; xyz} # same with (5)， just another representation&lt;br&gt;7) ternary operator :&lt;/p&gt;
&lt;p&gt;abc = 1&lt;br&gt;xyz = 2&lt;br&gt;result = abc &amp;gt; xyz ? abc : xyz&lt;br&gt;=&amp;gt; result = 2&lt;/p&gt;
&lt;p&gt;–&lt;br&gt;Copy from &lt;a href=&quot;http://stackoverflow.com/questions/30315021/colon-placement-in-ruby-on-rails/30315118#30315118&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/30315021/colon-placement-in-ruby-on-rails/30315118#30315118&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;1) abc: it can’t exist independently&lt;/p&gt;
&lt;p&gt;2) :xyz it is a symbol&lt;/p&gt;
&lt;p&gt;:xyz.class&lt;br&gt; =&amp;gt; Symbol&lt;br&gt;3) abc::xyz it represents namesp
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>替换homebrew默认源</title>
    <link href="http://consiiii.me/2016/12/28/%E6%9B%BF%E6%8D%A2homebrew%E9%BB%98%E8%AE%A4%E6%BA%90/"/>
    <id>http://consiiii.me/2016/12/28/替换homebrew默认源/</id>
    <published>2016-12-28T07:41:39.000Z</published>
    <updated>2016-12-28T10:20:32.000Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;$(brew --repo)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;-url origin gi&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;//mirrors.ustc.edu.&lt;span class=&quot;keyword&quot;&gt;cn&lt;/span&gt;/brew.git&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;来源&lt;a href=&quot;https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;$ gem sources –add &lt;a href=&quot;https://gems.ruby-china.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://gems.ruby-china.org/&lt;/a&gt; –remove &lt;a href=&quot;https://rubygems.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://rubygems.org/&lt;/a&gt;&lt;br&gt;$ gem sources -l&lt;br&gt;&lt;a href=&quot;https://gems.ruby-china.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://gems.ruby-china.org&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;确保只有-gems-ruby-china-org&quot;&gt;&lt;a href=&quot;#确保只有-gems-ruby-china-org&quot; class=&quot;headerlink&quot; title=&quot;确保只有 gems.ruby-china.org&quot;&gt;&lt;/a&gt;确保只有 gems.ruby-china.org&lt;/h1&gt;</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;t
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>创建前端脚手架</title>
    <link href="http://consiiii.me/2016/11/10/%E5%88%9B%E5%BB%BA%E5%89%8D%E7%AB%AF%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    <id>http://consiiii.me/2016/11/10/创建前端脚手架/</id>
    <published>2016-11-10T10:00:56.000Z</published>
    <updated>2016-11-10T10:01:11.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Refer&quot;&gt;&lt;a href=&quot;#Refer&quot; class=&quot;headerlink&quot; title=&quot;Refer&quot;&gt;&lt;/a&gt;Refer&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/6726c0410650&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.jianshu.com/p/6726c0410650&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Refer&quot;&gt;&lt;a href=&quot;#Refer&quot; class=&quot;headerlink&quot; title=&quot;Refer&quot;&gt;&lt;/a&gt;Refer&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/6726c0410650&quot; target=&quot;_b
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>Login ProFTPD as root</title>
    <link href="http://consiiii.me/2016/11/04/%E4%BD%BF%E7%94%A8root%E7%99%BB%E9%99%86proFtpd/"/>
    <id>http://consiiii.me/2016/11/04/使用root登陆proFtpd/</id>
    <published>2016-11-04T11:48:38.000Z</published>
    <updated>2016-11-04T12:02:26.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;使用root登录不是一种安全的方式，请悉知&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-安装ProFTPD&quot;&gt;&lt;a href=&quot;#1-安装ProFTPD&quot; class=&quot;headerlink&quot; title=&quot;1. 安装ProFTPD&quot;&gt;&lt;/a&gt;1. 安装ProFTPD&lt;/h2&gt;&lt;p&gt;&lt;code&gt;apt-get install proftpd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;安装完成后会要求我们选择让该 server 以 inetd 还是 standalone, 选择standalone.&lt;/p&gt;
&lt;p&gt;配置相关文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /etc/proftpd/proftpd.conf&lt;/code&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;改变Server Name&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight apache&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;&lt;span class=&quot;nomarkup&quot;&gt;ServerName&lt;/span&gt;&lt;/span&gt;                      &lt;span class=&quot;string&quot;&gt;&quot;example.com&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;如需要，限制用户的目录&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# &lt;span class=&quot;keyword&quot;&gt;Use&lt;/span&gt; this &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; jail all &lt;span class=&quot;keyword&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; their homes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; DefaultRoot                    ~&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;2-登录FTP&quot;&gt;&lt;a href=&quot;#2-登录FTP&quot; class=&quot;headerlink&quot; title=&quot;2. 登录FTP&quot;&gt;&lt;/a&gt;2. 登录FTP&lt;/h2&gt;&lt;p&gt;ProFTPD会自动使用系统用户和密码来作为登录FTP的凭证。但是注意到，root之类的用户是无法登录的，会一直出现530错误。&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Command:	USER root&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Response: 	331 Password required for root&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Command:	PASS &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Response: 	530 Login incorrect.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Error:      Critical error: Could not connect to server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;修改两个地方:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vi  /etc/proftpd/proftpd.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;添加上&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;RootLogin				&lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ProFTPD同时也会使用&lt;code&gt;/etc/ftpusers&lt;/code&gt;做合法检测，这是一个容易遗漏的地方。打开&lt;code&gt;/etc/ftpusers&lt;/code&gt;，&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# /etc/ftpusers: list of users disallowed FTP access. See ftpusers(5)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;#注释或者删掉它吧&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;daemon&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;重启ProFTPD, &lt;/p&gt;
&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;service proftpd &lt;span class=&quot;built_in&quot;&gt;restart&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;现在再登录，是否登录成功了呢？希望是。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;使用root登录不是一种安全的方式，请悉知&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-安装ProFTPD&quot;&gt;&lt;a href=&quot;#1-安装ProFTPD&quot; class=&quot;headerlink&quot; title=&quot;1. 安装ProFTPD&quot;&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://consiiii.me/categories/Linux/"/>
    
    
      <category term="FTP" scheme="http://consiiii.me/tags/FTP/"/>
    
      <category term="Linux" scheme="http://consiiii.me/tags/Linux/"/>
    
      <category term="ProFTPD" scheme="http://consiiii.me/tags/ProFTPD/"/>
    
      <category term="Ubuntu" scheme="http://consiiii.me/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>PHP保存文件时文件名乱码与Windows Server</title>
    <link href="http://consiiii.me/2016/10/22/PHP%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6%E6%97%B6%E6%96%87%E4%BB%B6%E5%90%8D%E4%B9%B1%E7%A0%81%E4%B8%8EWindows-Server/"/>
    <id>http://consiiii.me/2016/10/22/PHP保存文件时文件名乱码与Windows-Server/</id>
    <published>2016-10-22T04:50:11.000Z</published>
    <updated>2016-10-22T04:50:11.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
  </entry>
  
  <entry>
    <title>Update Stotyboard Localization</title>
    <link href="http://consiiii.me/2016/10/08/Update-Stotyboard-Localization/"/>
    <id>http://consiiii.me/2016/10/08/Update-Stotyboard-Localization/</id>
    <published>2016-10-07T17:41:58.000Z</published>
    <updated>2016-10-07T17:43:32.000Z</updated>
    
    <content type="html">&lt;p&gt;Change to directory to Base.proj in your project in terminal, and type&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ibtool Main.storyboard --generate-strings-file file_name.strings&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;open the &lt;code&gt;file_name.strings&lt;/code&gt;, copy/replace.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Change to directory to Base.proj in your project in terminal, and type&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ibtool Main.storyboard --generate-strings-file file_n
    
    </summary>
    
      <category term="iOS" scheme="http://consiiii.me/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://consiiii.me/tags/iOS/"/>
    
      <category term="XCode" scheme="http://consiiii.me/tags/XCode/"/>
    
      <category term="Swift" scheme="http://consiiii.me/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>&#39;Realm/RLMArray.h&#39; file not found</title>
    <link href="http://consiiii.me/2016/09/28/Realm-RLMArray-h-file-not-found/"/>
    <id>http://consiiii.me/2016/09/28/Realm-RLMArray-h-file-not-found/</id>
    <published>2016-09-28T08:44:53.000Z</published>
    <updated>2016-09-28T08:45:40.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;错误症状&quot;&gt;&lt;a href=&quot;#错误症状&quot; class=&quot;headerlink&quot; title=&quot;错误症状&quot;&gt;&lt;/a&gt;错误症状&lt;/h2&gt;&lt;p&gt;模拟器运行正常，打包正常，真机编译时部分Framework出现&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;‘Realm/RLMArray.h’ file not found&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;CocoaPods 1.0.1, Xcode 8, Realm 0.98.3&lt;/p&gt;
&lt;h2 id=&quot;解决方式&quot;&gt;&lt;a href=&quot;#解决方式&quot; class=&quot;headerlink&quot; title=&quot;解决方式&quot;&gt;&lt;/a&gt;解决方式&lt;/h2&gt;&lt;p&gt;按下&lt;code&gt;Option&lt;/code&gt;+&lt;code&gt;CMD&lt;/code&gt;+&lt;code&gt;Shift&lt;/code&gt;+&lt;code&gt;K&lt;/code&gt;, Clean Build Folder, 或者按下&lt;code&gt;Option&lt;/code&gt;，选择｀Product｀—&amp;gt; &lt;code&gt;Clean Build Folder&lt;/code&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;错误症状&quot;&gt;&lt;a href=&quot;#错误症状&quot; class=&quot;headerlink&quot; title=&quot;错误症状&quot;&gt;&lt;/a&gt;错误症状&lt;/h2&gt;&lt;p&gt;模拟器运行正常，打包正常，真机编译时部分Framework出现&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;‘Realm/RLM
    
    </summary>
    
      <category term="iOS" scheme="http://consiiii.me/categories/iOS/"/>
    
    
      <category term="‘iOS’" scheme="http://consiiii.me/tags/%E2%80%98iOS%E2%80%99/"/>
    
      <category term="‘Realm’" scheme="http://consiiii.me/tags/%E2%80%98Realm%E2%80%99/"/>
    
      <category term="‘XCode’" scheme="http://consiiii.me/tags/%E2%80%98XCode%E2%80%99/"/>
    
      <category term="‘CocoaPods’" scheme="http://consiiii.me/tags/%E2%80%98CocoaPods%E2%80%99/"/>
    
  </entry>
  
  <entry>
    <title>Disallowed nested bundles, contains disallowed file &#39;Frameworks&#39; in XCode</title>
    <link href="http://consiiii.me/2016/09/24/Disallowed%20nested%20bundles,%20contains%20disallowed%20file%20'Frameworks'%20in%20XCode/"/>
    <id>http://consiiii.me/2016/09/24/Disallowed nested bundles, contains disallowed file 'Frameworks' in XCode/</id>
    <published>2016-09-24T12:19:29.000Z</published>
    <updated>2016-09-25T16:03:44.000Z</updated>
    
    <content type="html">&lt;p&gt;这两天在更新一个iOS项目，因为更新XCode 8，遇到了Debug模式下能跑，但是无法打包的问题。&lt;/p&gt;
&lt;h2 id=&quot;错误症状&quot;&gt;&lt;a href=&quot;#错误症状&quot; class=&quot;headerlink&quot; title=&quot;错误症状&quot;&gt;&lt;/a&gt;错误症状&lt;/h2&gt;&lt;p&gt;具体错误提示是：&lt;/p&gt;
&lt;p&gt;点击Archive后，上传后出现错误提示1&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Invalid Bundle. The bundle at ‘XXXX’ contains disallowed nested bundles.&lt;/p&gt;
&lt;p&gt;Invalid Bundle, The bundle contains disallowed nested bundles, contains disallowed file ‘Frameworks’&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;或者iTC成功了，但是收到邮件，得到错误提示2&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have discovered one or more issues with your recent delivery for “江雪”. &amp;gt;To process your delivery, the following issues must be corrected:&lt;/p&gt;
&lt;p&gt;Invalid Bundle - One or more dynamic libraries that are referenced by your &amp;gt;app are not present in the dylib search path.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;参考了多个已有的讨论（见Refer), 最终解决办法如下:&lt;/p&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;Host APP + Today Extension + 多个Framework用来共享代码，Swift(主要) + OC, Cocoapods&lt;/p&gt;
&lt;h2 id=&quot;解决方式&quot;&gt;&lt;a href=&quot;#解决方式&quot; class=&quot;headerlink&quot; title=&quot;解决方式&quot;&gt;&lt;/a&gt;解决方式&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;对于Framework，尝试将&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Embedded Content Contains Swift Code: YES&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;调成&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Embedded Content Contains Swift Code: NO&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对于appex, 在&lt;code&gt;Target(appex)-&amp;gt; Build Phases&lt;/code&gt;中点击&lt;code&gt;+&lt;/code&gt;, 选择&lt;code&gt;New Run Script Phase&lt;/code&gt;， 填入&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;CONFIGURATION_BUILD_DIR&amp;#125;&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;UNLOCALIZED_RESOURCES_FOLDER_PATH&amp;#125;&lt;/span&gt;/&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [[ &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Frameworks&quot;&lt;/span&gt; ]]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rm -fr Frameworks&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;尝试更新Cocoapods版&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;清理项目后重新打包&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;Refer&quot;&gt;&lt;a href=&quot;#Refer&quot; class=&quot;headerlink&quot; title=&quot;Refer&quot;&gt;&lt;/a&gt;Refer&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/CocoaPods/CocoaPods/issues/4203&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/CocoaPods/CocoaPods/issues/4203&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/25777958/validation-error-invalid-bundle-the-bundle-at-contains-disallowed-file-fr&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/25777958/validation-error-invalid-bundle-the-bundle-at-contains-disallowed-file-fr&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;一次打包＋上传，得到错误提示，前后需要近25分钟，这个错误解决起来真的很花时间。&lt;/p&gt;
&lt;p&gt;TO DO: 为什么之前XCode 7成功了?&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这两天在更新一个iOS项目，因为更新XCode 8，遇到了Debug模式下能跑，但是无法打包的问题。&lt;/p&gt;
&lt;h2 id=&quot;错误症状&quot;&gt;&lt;a href=&quot;#错误症状&quot; class=&quot;headerlink&quot; title=&quot;错误症状&quot;&gt;&lt;/a&gt;错误症状&lt;/h2&gt;&lt;p&gt;具体错误
    
    </summary>
    
      <category term="iOS" scheme="http://consiiii.me/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://consiiii.me/tags/iOS/"/>
    
      <category term="XCode" scheme="http://consiiii.me/tags/XCode/"/>
    
  </entry>
  
  <entry>
    <title>Using system headers in framework in Swift</title>
    <link href="http://consiiii.me/2016/09/24/Using-system-headers-in-framework-in-Swift%20copy/"/>
    <id>http://consiiii.me/2016/09/24/Using-system-headers-in-framework-in-Swift copy/</id>
    <published>2016-09-24T12:19:29.000Z</published>
    <updated>2016-09-27T11:28:31.000Z</updated>
    
    <content type="html">&lt;p&gt;这两天在更新一个iOS项目，因为更新XCode 8，遇到了Debug模式下能跑，但是无法打包的问题。&lt;/p&gt;
&lt;h2 id=&quot;错误症状&quot;&gt;&lt;a href=&quot;#错误症状&quot; class=&quot;headerlink&quot; title=&quot;错误症状&quot;&gt;&lt;/a&gt;错误症状&lt;/h2&gt;&lt;p&gt;具体错误提示是：&lt;/p&gt;
&lt;p&gt;点击Archive后，上传后出现错误提示1&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Invalid Bundle. The bundle at ‘XXXX’ contains disallowed nested bundles.&lt;/p&gt;
&lt;p&gt;Invalid Bundle, The bundle contains disallowed nested bundles, contains disallowed file ‘Frameworks’&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;或者iTC成功了，但是收到邮件，得到错误提示2&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have discovered one or more issues with your recent delivery for “江雪”. &amp;gt;To process your delivery, the following issues must be corrected:&lt;/p&gt;
&lt;p&gt;Invalid Bundle - One or more dynamic libraries that are referenced by your &amp;gt;app are not present in the dylib search path.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;参考了多个已有的讨论（见Refer), 最终解决办法如下:&lt;/p&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;Host APP + Today Extension + 多个Framework用来共享代码，Swift(主要) + OC&lt;/p&gt;
&lt;h2 id=&quot;解决方式&quot;&gt;&lt;a href=&quot;#解决方式&quot; class=&quot;headerlink&quot; title=&quot;解决方式&quot;&gt;&lt;/a&gt;解决方式&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;对于Framework，尝试将&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Embedded Content Contains Swift Code: YES&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;调成&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Embedded Content Contains Swift Code: NO&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对于Appex,&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;Refer&quot;&gt;&lt;a href=&quot;#Refer&quot; class=&quot;headerlink&quot; title=&quot;Refer&quot;&gt;&lt;/a&gt;Refer&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://medium.com/@stefanvdoord/using-system-headers-in-swift-8731e972adfe#.ia0bv8j5s&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://medium.com/@stefanvdoord/using-system-headers-in-swift-8731e972adfe#.ia0bv8j5s&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/24875745/xcode-6-beta-4-using-bridging-headers-with-framework-targets-is-unsupported&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/24875745/xcode-6-beta-4-using-bridging-headers-with-framework-targets-is-unsupported&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/25808055/ifaddrs-in-swift-framework&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/25808055/ifaddrs-in-swift-framework&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这两天在更新一个iOS项目，因为更新XCode 8，遇到了Debug模式下能跑，但是无法打包的问题。&lt;/p&gt;
&lt;h2 id=&quot;错误症状&quot;&gt;&lt;a href=&quot;#错误症状&quot; class=&quot;headerlink&quot; title=&quot;错误症状&quot;&gt;&lt;/a&gt;错误症状&lt;/h2&gt;&lt;p&gt;具体错误
    
    </summary>
    
      <category term="slots" scheme="http://consiiii.me/categories/slots/"/>
    
    
      <category term="iOS" scheme="http://consiiii.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>识别植物</title>
    <link href="http://consiiii.me/2016/05/22/%E8%AF%86%E5%88%AB%E6%A4%8D%E7%89%A9/"/>
    <id>http://consiiii.me/2016/05/22/识别植物/</id>
    <published>2016-05-22T09:04:06.000Z</published>
    <updated>2016-10-24T14:12:23.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;好久没有更新Blog。这其实是上学期的一个作业，写完了之后一直存放草稿里，看到了微软识花出来之后，突然发现我还写过这个东西。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这是一个非常简单的程序，上传图片，然后识别，由于“作业”关系，其实只能识别15种植物，准确率是70-80%，这与算法有关，当然也和训练集有很大的关系。&lt;/p&gt;
&lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;利用PCA识别花卉，以及iOS上的应用。&lt;/p&gt;
&lt;p&gt;了解PCA算法原理，并应用到花卉识别中。编写一个App，连接服务器，当用户选择了一张花卉照片时，上传照片到服务器，进行识别，最后返回相应的结果到本地进行显示。&lt;/p&gt;
&lt;h2 id=&quot;2-环境&quot;&gt;&lt;a href=&quot;#2-环境&quot; class=&quot;headerlink&quot; title=&quot;2. 环境&quot;&gt;&lt;/a&gt;2. 环境&lt;/h2&gt;&lt;p&gt;Python 2.7.11, Swift 2.2&lt;/p&gt;
&lt;h2 id=&quot;3-原理&quot;&gt;&lt;a href=&quot;#3-原理&quot; class=&quot;headerlink&quot; title=&quot;3. 原理&quot;&gt;&lt;/a&gt;3. 原理&lt;/h2&gt;&lt;p&gt;实验主要利用PCA算法进行识别花卉识别.&lt;/p&gt;
&lt;p&gt;PCA（Principal Component Analysis），主成分分析，是一种常用的数据分析方法。PCA通过线性变换将原始数据变换为一组各维度线性无关的表示，可用于提取数据的主要特征分量，常用于高维数据的降维。&lt;/p&gt;
&lt;p&gt;利用起识别图片的基本思想是用一组图片进行训练：利用PCA提取出图片的主成分，即为特征值。在对新的图片进行识别时，也提取其特征值进行比较距离（欧几里得距离），距离最近的目标，就是识别出的对象。&lt;/p&gt;
&lt;p&gt;简单原理叙述叙述如下：&lt;/p&gt;
&lt;p&gt;样本X和样本Y的协方差(Covariance)：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_math1.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;协方差为正时说明X和Y是正相关关系，协方差为负时X和Y是负相关关系，协方差为0时X和Y相互独立。&lt;/p&gt;
&lt;p&gt;Cov(X,X)就是X的方差(Variance).&lt;/p&gt;
&lt;p&gt;当样本是n维数据时，它们的协方差实际上是协方差矩阵（对称方阵），方阵的边长是。比如对于3维数据(x,y,z)，计算它的协方差就是：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_math2.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;若，则称是A的特征值，X是对应的特征向量。实际上可以这样理解：矩阵A作用在它的特征向量X上，仅仅使得X的长度发生了变化，缩放比例就是相应的特征值。&lt;/p&gt;
&lt;p&gt;当A是n阶可逆矩阵时，A与P-1Ap相似，相似矩阵具有相同的特征值。&lt;/p&gt;
&lt;p&gt;特别地，当A是对称矩阵时，A的奇异值等于A的特征值，存在正交矩阵Q（Q-1=QT），使得：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_math3.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;对A进行奇异值分解就能求出所有特征值和Q矩阵。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_math4.png&quot; alt=&quot;&quot;&gt; D是由特征值组成的对角矩阵&lt;/p&gt;
&lt;p&gt;由特征值和特征向量的定义知，Q的列向量就是A的特征向量。&lt;/p&gt;
&lt;h2 id=&quot;4-效果图&quot;&gt;&lt;a href=&quot;#4-效果图&quot; class=&quot;headerlink&quot; title=&quot;4. 效果图&quot;&gt;&lt;/a&gt;4. 效果图&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_PCA_result_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;选择图片并点击“Predict”，如下图点击了“杜鹃”的“Predict”&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_PCA_result_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_PCA_result_3.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;作业留念&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;好久没有更新Blog。这其实是上学期的一个作业，写完了之后一直存放草稿里，看到了微软识花出来之后，突然发现我还写过这个东西。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这是一个非常简单的程序，上传图片，然后识别，由于“作业”关系，其实只能识别15种
    
    </summary>
    
      <category term="iOS" scheme="http://consiiii.me/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://consiiii.me/tags/iOS/"/>
    
      <category term="KMean" scheme="http://consiiii.me/tags/KMean/"/>
    
  </entry>
  
  <entry>
    <title>Install PHP 7</title>
    <link href="http://consiiii.me/2016/05/21/Install-PHP-7/"/>
    <id>http://consiiii.me/2016/05/21/Install-PHP-7/</id>
    <published>2016-05-21T09:00:17.000Z</published>
    <updated>2016-05-21T10:45:33.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h2&gt;&lt;h4 id=&quot;Ubuntu&quot;&gt;&lt;a href=&quot;#Ubuntu&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu&quot;&gt;&lt;/a&gt;Ubuntu&lt;/h4&gt;&lt;p&gt;Test OS: Ubuntu 15.10&lt;/p&gt;
&lt;figure class=&quot;highlight smali&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-get install software-properties-common&lt;span class=&quot;built_in&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;add-apt-repository &lt;/span&gt;ppa:ondrej/php&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-get install php7.0 -y --force-yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Debian&quot;&gt;&lt;a href=&quot;#Debian&quot; class=&quot;headerlink&quot; title=&quot;Debian&quot;&gt;&lt;/a&gt;Debian&lt;/h4&gt;&lt;p&gt;Test OS: Debian 8 x64 (jessie) &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Edit &lt;code&gt;/etc/apt/sources.list&lt;/code&gt;&lt;/strong&gt;, replacing &lt;code&gt;&amp;lt;distribution&amp;gt;&lt;/code&gt; with either &lt;code&gt;sequeeze&lt;/code&gt;, &lt;code&gt;wheezy&lt;/code&gt;, &lt;code&gt;jessie&lt;/code&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deb &lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//packages.dotdeb.org &amp;lt;distribution&amp;gt; all&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src &lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//packages.dotdeb.org &amp;lt;distribution&amp;gt; all&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Add the GPG key:&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#download gpg&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget &lt;span class=&quot;keyword&quot;&gt;https&lt;/span&gt;://www.dotdeb.org/dotdeb.gpg &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#when you added it, you can delete it as you like &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-key &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; dotdeb.gpg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Install:&lt;/p&gt;
&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; install php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;PS: If you meet some problems when you excute &lt;code&gt;apt-get update&lt;/code&gt;, you may need to check &lt;code&gt;/etc/apt/sources.list&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Check&quot;&gt;&lt;a href=&quot;#Check&quot; class=&quot;headerlink&quot; title=&quot;Check&quot;&gt;&lt;/a&gt;Check&lt;/h2&gt;&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;root@Ubuntu:~# php -v&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PHP 7.0.6-13+donate.sury.org~wily+1 (&lt;span class=&quot;keyword&quot;&gt;cli&lt;/span&gt;) ( NTS )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Copyright&lt;/span&gt; (c) 1997-2016 The PHP &lt;span class=&quot;built_in&quot;&gt;Group&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Zend Engine v3.0.0, &lt;span class=&quot;keyword&quot;&gt;Copyright&lt;/span&gt; (c) 1998-2016 Zend Technologies&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    with Zend OPcache v7.0.6-dev, &lt;span class=&quot;keyword&quot;&gt;Copyright&lt;/span&gt; (c) 1999-2016, &lt;span class=&quot;keyword&quot;&gt;by&lt;/span&gt; Zend Technologies&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Modules&quot;&gt;&lt;a href=&quot;#Modules&quot; class=&quot;headerlink&quot; title=&quot;Modules&quot;&gt;&lt;/a&gt;Modules&lt;/h2&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;root@Ubuntu:~# apt-&lt;span class=&quot;keyword&quot;&gt;cache&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;search&lt;/span&gt; php7-*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-radius - radius &lt;span class=&quot;keyword&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-&lt;span class=&quot;keyword&quot;&gt;http&lt;/span&gt; - PECL &lt;span class=&quot;keyword&quot;&gt;HTTP&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP &lt;span class=&quot;keyword&quot;&gt;Extended&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;HTTP&lt;/span&gt; Support&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-uploadprogress - &lt;span class=&quot;keyword&quot;&gt;file&lt;/span&gt; upload progress &lt;span class=&quot;keyword&quot;&gt;tracking&lt;/span&gt; extension &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php-mongodb - MongoDB driver &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-common - documentation, examples &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; common &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;libapache2-&lt;span class=&quot;keyword&quot;&gt;mod&lt;/span&gt;-php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt; - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (Apache &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-cgi - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (CGI &lt;span class=&quot;built_in&quot;&gt;binary&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-cli - command-line interpreter &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the PHP scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-phpdbg - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (PHPDBG &lt;span class=&quot;built_in&quot;&gt;binary&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-fpm - &lt;span class=&quot;keyword&quot;&gt;server&lt;/span&gt;-side, HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (FPM-CGI &lt;span class=&quot;built_in&quot;&gt;binary&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;libphp7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-embed - HTML-embedded scripting &lt;span class=&quot;keyword&quot;&gt;language&lt;/span&gt; (Embedded SAPI &lt;span class=&quot;keyword&quot;&gt;library&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-dev - Files &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; development&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-curl - CURL &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-enchant - Enchant &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-gd - GD &lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; PHP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Install specific modules with command below:&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;php7&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.0-mysql&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;php7&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.0-curl&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;PHP-FPM-amp-Nginx&quot;&gt;&lt;a href=&quot;#PHP-FPM-amp-Nginx&quot; class=&quot;headerlink&quot; title=&quot;PHP-FPM &amp;amp; Nginx&quot;&gt;&lt;/a&gt;PHP-FPM &amp;amp; Nginx&lt;/h2&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-get &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; php7&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;-fpm&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Edit &lt;code&gt;/etc/nginx/sites-enabled/default&lt;/code&gt;, check the configuration below for advisory optinoin purpose.&lt;/p&gt;
&lt;figure class=&quot;highlight xquery&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    location ~ \.php$ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        try_files $uri =&lt;span class=&quot;number&quot;&gt;404&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_split_path_info ^(.+\.php)(/.+)$;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_pass unix:/var/run/php/php7.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;-fpm.sock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_index index.php;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        include fastcgi_params;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Reference&quot;&gt;&lt;a href=&quot;#Reference&quot; class=&quot;headerlink&quot; title=&quot;Reference&quot;&gt;&lt;/a&gt;Reference&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://tecadmin.net/install-php-7-on-ubuntu/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tecadmin.net/install-php-7-on-ubuntu/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.colinodell.com/blog/2015-12/installing-php-7-0-0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.colinodell.com/blog/2015-12/installing-php-7-0-0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.digitalocean.com/community/tutorials/how-to-upgrade-to-php-7-on-ubuntu-14-04&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h2&gt;&lt;h4 id=&quot;Ubuntu&quot;&gt;&lt;a href=&quot;#Ubuntu&quot; class=&quot;headerlink&quot; 
    
    </summary>
    
    
      <category term="PHP" scheme="http://consiiii.me/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>redux-router与react-router-rdeux的不同</title>
    <link href="http://consiiii.me/2016/05/14/redux-router%E4%B8%8Ereact-router-rdeux%E7%9A%84%E4%B8%8D%E5%90%8C/"/>
    <id>http://consiiii.me/2016/05/14/redux-router与react-router-rdeux的不同/</id>
    <published>2016-05-14T09:03:12.000Z</published>
    <updated>2016-06-07T15:29:12.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;此文仅是&lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux-router&lt;/a&gt;页面上的部分翻译&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;react-router-redux&quot;&gt;&lt;a href=&quot;#react-router-redux&quot; class=&quot;headerlink&quot; title=&quot;react-router-redux&quot;&gt;&lt;/a&gt;react-router-redux&lt;/h2&gt;&lt;p&gt;react-router-redux(之前称为redux-simple-router)使用了一个不一样的方式去集成路由。react-router-redux让React Router去做所有沉重的任务，并同步url中的数据到store的history &lt;a href=&quot;https://github.com/mjackson/history/blob/master/docs/Location.md#location&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;location&lt;/a&gt;对象里。这代表着用户可以直接使用React Router的API，并从这一堆&lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;文档和例子&lt;/a&gt;中获益。&lt;/p&gt;
&lt;p&gt;react-router-redux的README中有一个非常有用的示意图，如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/reactjs/redux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux&lt;/a&gt; (store.routing)  ↔  &lt;a href=&quot;https://github.com/reactjs/react-router-redux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;react-router-redux&lt;/a&gt;  ↔  &lt;a href=&quot;https://github.com/reactjs/history&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;history&lt;/a&gt; (history.location)  ↔  &lt;a href=&quot;https://github.com/reactjs/react-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;react-router&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这种方式易于理解，但有些一些需要注意的地方：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;history location对象不包含React Router的参数，它们必须被React Router组件向下传递，或被重新计算。(The history location object does not include React Router params and they must be either passed down from a React Router component or recomputed.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;不鼓励（危险）&lt;/strong&gt;将store中的数据连接到组件里，因为store中的数据在React Router的属性改变后，有潜在的更新可能性， 因此当location store data与向下传递而来的location对象(从React Router到组件）不同时，这就出现了一个互相竞争的场景。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;react-router-redux 鼓励用户在React Router中的component中直接使用props（props会向下传递到任何被渲染的component中）。 这意味着如果您想要从comonpent tree中获取location data， 您可能需要将它向下传递，亦或使用React的Context特性。&lt;/p&gt;
&lt;h2 id=&quot;redux-router&quot;&gt;&lt;a href=&quot;#redux-router&quot; class=&quot;headerlink&quot; title=&quot;redux-router&quot;&gt;&lt;/a&gt;redux-router&lt;/h2&gt;&lt;p&gt;这个项目从一方面来说，使用的方法是将&lt;strong&gt;完整的&lt;/strong&gt;React Router数据存储在Redux Store中。这样做的主要好处是: 被redux-router向下传递到路由中的组件的props, 允许和存储在store中的数据不同。 因此可连接router的数据到任何您想要的component中。 您还可以直接从store中获取路由的参数。 redux-router也提供了一个API来应对从Router（React Router现在并没有提供这个东西）中进行热交换路由。&lt;/p&gt;
&lt;p&gt;关于redux-router的示意图如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/reactjs/redux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux&lt;/a&gt; (store.routing)&lt;/strong&gt; ↔ &lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux-router&lt;/a&gt;  ↔  &lt;a href=&quot;https://github.com/reactjs/react-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;react-router (via RouterContext)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这种方式同时也有一些限制：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;路由数据不全是可序列化的(serializable)(因为组件和函数不能被直接序列化)，因此对于那些帮助保存store到浏览器session中的开发工具扩展和类库，这可能会造成一些问题。但如果这些类库提供了忽略序列化store部分内容的方法，这样的问题可以被缓和，可是这并非总是可行的。&lt;/li&gt;
&lt;li&gt;redux-router利用了RouterContext的一些好的地方，来继续使用React Router的内部逻辑。 然而，redux-router必须要在自身中实现很多React Router已经有的东西，这会造成在升级路径上的延时。&lt;/li&gt;
&lt;li&gt;redux-router必须提供一个有细微区别的顶层API（因为第2点），即使他们的路由的逻辑/匹配模式可能是相同的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最终，您对这些库的选择取决于您和您的项目需求. React-router-redux会继续得到更多的社区支持，因为它已经进入了reactjs github组织，也有了相当的关注度。 对于react-router，和redux的集成， &lt;strong&gt;建议使用react-router-redux&lt;/strong&gt;。 然而，您可能也会发现redux-router其实更符合您的项目需求。只要有这样的需求存在，那redux-router就会继续被维护。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;此文仅是&lt;a href=&quot;https://github.com/acdlite/redux-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;redux-router&lt;/a&gt;页面上的部分翻译&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id
    
    </summary>
    
    
      <category term="Translation" scheme="http://consiiii.me/tags/Translation/"/>
    
      <category term="Redux" scheme="http://consiiii.me/tags/Redux/"/>
    
      <category term="React" scheme="http://consiiii.me/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>Experience of HackPKU 2016</title>
    <link href="http://consiiii.me/2016/04/22/Experience-of-HackPKU-2016/"/>
    <id>http://consiiii.me/2016/04/22/Experience-of-HackPKU-2016/</id>
    <published>2016-04-22T11:36:42.000Z</published>
    <updated>2016-10-24T15:19:03.000Z</updated>
    
    <content type="html">&lt;p&gt;这次去北京大学参加了36个小时的Hackathon&lt;/p&gt;
&lt;h2 id=&quot;1-时间地点&quot;&gt;&lt;a href=&quot;#1-时间地点&quot; class=&quot;headerlink&quot; title=&quot;1. 时间地点&quot;&gt;&lt;/a&gt;1. 时间地点&lt;/h2&gt;&lt;p&gt;2016年4月8日18:00－10日14:00，北京大学，英杰交流中心&lt;/p&gt;
&lt;h2 id=&quot;2-流水账&quot;&gt;&lt;a href=&quot;#2-流水账&quot; class=&quot;headerlink&quot; title=&quot;2. 流水账&quot;&gt;&lt;/a&gt;2. 流水账&lt;/h2&gt;&lt;p&gt;如果说每次参加Hackathon我有什么期待的话，大概就是对于不知道会发生什么，做什么感觉到非常兴奋！&lt;/p&gt;
&lt;p&gt;因此个人比较单刀赴会，然后去找到不认识的同学一起组队。我认识了新同学，一起临阵磨枪，做了一件作品，还有比这个更刺激的嘛！当然有，就是大家的技能栈都会不同，去做一件什么样的事情，能不能大家一起来完成，也是一个策略问题。&lt;/p&gt;
&lt;h3 id=&quot;2-1-新朋友&quot;&gt;&lt;a href=&quot;#2-1-新朋友&quot; class=&quot;headerlink&quot; title=&quot;2.1 新朋友&quot;&gt;&lt;/a&gt;2.1 新朋友&lt;/h3&gt;&lt;p&gt;这次有幸认识来自NYU SH的小伙伴Bill，北京大学的学姐们Feng &amp;amp; Yao，我们一起组成了路人队。我们临场定下idea，决定做一个近场通讯的iOS客户端。我的主要责任是完成这个iOS客户端。&lt;/p&gt;
&lt;h3 id=&quot;2-2-趣事&quot;&gt;&lt;a href=&quot;#2-2-趣事&quot; class=&quot;headerlink&quot; title=&quot;2.2 趣事&quot;&gt;&lt;/a&gt;2.2 趣事&lt;/h3&gt;&lt;p&gt;这次比赛时的身体状况不佳，一直咳嗽，越咳越厉害，效率变得很低。半夜的时候，由于可能参赛的大部分是本校学生，都回去睡觉了。剩下寥寥数位在敲键盘。学姐帮我买了糖浆之类的药（再次感谢），最后&lt;br&gt;当水喝，也止不住诺大的一个会场，都是我“KeKeKe”的声音。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_late_night.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;效率变得有些低，但是不写完也不想入睡。何况在左前方这个位置，有一位同学敲键盘敲的极其快速，“啪啪啪，啪啪啪啪啪啪…”&lt;/p&gt;
&lt;p&gt;1:00的时候如此，3:00的时候依旧非常快速，“啪啪啪，啪啪啪啪啪啪…”&lt;/p&gt;
&lt;p&gt;我被触动了，心想他可能是北大的学生：这就是北大的学生吗，厉害厉害，这就是差距啊，速度之快，思路之清晰…不行！我不能输！&lt;/p&gt;
&lt;p&gt;于是我一边咳嗽一边继续坚持敲键盘，5:00 的时候，天已经有点蒙蒙亮了，他还是敲的很快。我身心有点受不了，假装晃荡去他后面看看。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;他在打LOL&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我马上回去趴下休息了。&lt;/p&gt;
&lt;h2 id=&quot;3-结束&quot;&gt;&lt;a href=&quot;#3-结束&quot; class=&quot;headerlink&quot; title=&quot;3. 结束&quot;&gt;&lt;/a&gt;3. 结束&lt;/h2&gt;&lt;p&gt;最后拿到了绿盟的旅行者奖，hahaha，有点有趣。&lt;/p&gt;
&lt;p&gt;不过比起奖项，我觉得更加宝贵的地方在于，认识到了新的朋友们，Bill让我学习到了怎么去用多个角度看待问题；Feng的宣传手段和方式，让我大开眼界；Yao对待问题时的专精和效率，让我有了一些行为上的启发。&lt;/p&gt;
&lt;p&gt;我想，隔了5个月，回想着来写这篇流水账时，这些是我更印象深刻的东西。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_group_photo.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这次去北京大学参加了36个小时的Hackathon&lt;/p&gt;
&lt;h2 id=&quot;1-时间地点&quot;&gt;&lt;a href=&quot;#1-时间地点&quot; class=&quot;headerlink&quot; title=&quot;1. 时间地点&quot;&gt;&lt;/a&gt;1. 时间地点&lt;/h2&gt;&lt;p&gt;2016年4月8日18:00－10日1
    
    </summary>
    
      <category term="Competiton" scheme="http://consiiii.me/categories/Competiton/"/>
    
    
      <category term="Competiton" scheme="http://consiiii.me/tags/Competiton/"/>
    
  </entry>
  
  <entry>
    <title>Karma and React</title>
    <link href="http://consiiii.me/2016/04/18/Karma-and-React/"/>
    <id>http://consiiii.me/2016/04/18/Karma-and-React/</id>
    <published>2016-04-18T11:52:41.000Z</published>
    <updated>2016-06-03T13:03:53.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;使用Karma来测试React编写的应用&lt;/p&gt;
&lt;h2 id=&quot;2-安装环境&quot;&gt;&lt;a href=&quot;#2-安装环境&quot; class=&quot;headerlink&quot; title=&quot;2. 安装环境&quot;&gt;&lt;/a&gt;2. 安装环境&lt;/h2&gt;&lt;p&gt;使用的依赖如下：&lt;/p&gt;
&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;babel-core&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;babel-loader&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;babel-preset-es2015&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;babel-preset-react&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;expect&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;jasmine&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-chrome-launcher&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// karma-firefox-launcher 如果您使用Firefox来测试，应当安装上它&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-cli&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-jasmine&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-sourcemap-loader&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;karma&lt;/span&gt;-webpack&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;react&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;react&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;addons-test-utils&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;react&lt;/span&gt;-dom&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;requirejs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;webpack&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;使用&lt;code&gt;npm install&lt;/code&gt;命令来安装它们。&lt;/p&gt;
&lt;p&gt;在文章最后，我们的项目文件大概是这个样子：&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;├── karma&lt;span class=&quot;selector-class&quot;&gt;.conf&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── package&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── src&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   ├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   └── index&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   ├── components&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   ├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   │   └── app&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   └── app&lt;span class=&quot;selector-class&quot;&gt;.comp&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.jsx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   └── index&lt;span class=&quot;selector-class&quot;&gt;.jsx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;└── test-main.js&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;3-完善karma配置&quot;&gt;&lt;a href=&quot;#3-完善karma配置&quot; class=&quot;headerlink&quot; title=&quot;3. 完善karma配置&quot;&gt;&lt;/a&gt;3. 完善karma配置&lt;/h2&gt;&lt;p&gt;使用&lt;code&gt;karma init karma.conf.js&lt;/code&gt;来引导我们建立配置。&lt;/p&gt;
&lt;p&gt;以下是我的选择&lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Which testing framework &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; you want &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; use ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;. Enter &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; jasmine&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Do you want &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; use Require.js ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;This will &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; Require.js plugin.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;. Enter &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; &lt;span class=&quot;keyword&quot;&gt;no&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Do you want &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; capture any browsers automatically ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;. Enter &lt;span class=&quot;built_in&quot;&gt;empty&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; Chrome&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;What &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; the location of your &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;and&lt;/span&gt; test &lt;span class=&quot;keyword&quot;&gt;files&lt;/span&gt; ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You can use &lt;span class=&quot;built_in&quot;&gt;glob&lt;/span&gt; patterns, eg. &lt;span class=&quot;string&quot;&gt;&quot;js/*.js&quot;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;test/**/*Spec.js&quot;&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Enter &lt;span class=&quot;built_in&quot;&gt;empty&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; src/*.jsx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Should any of the &lt;span class=&quot;keyword&quot;&gt;files&lt;/span&gt; included by the &lt;span class=&quot;keyword&quot;&gt;previous&lt;/span&gt; patterns &lt;span class=&quot;keyword&quot;&gt;be&lt;/span&gt; excluded ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You can use &lt;span class=&quot;built_in&quot;&gt;glob&lt;/span&gt; patterns, eg. &lt;span class=&quot;string&quot;&gt;&quot;**/*.swp&quot;&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Enter &lt;span class=&quot;built_in&quot;&gt;empty&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; question.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Do you want Karma &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; watch &lt;span class=&quot;keyword&quot;&gt;all&lt;/span&gt; the &lt;span class=&quot;keyword&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;and&lt;/span&gt; run the tests &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;change&lt;/span&gt; ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press &lt;span class=&quot;keyword&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; possible &lt;span class=&quot;keyword&quot;&gt;options&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接下来编辑&lt;code&gt;karma.conf.js&lt;/code&gt;，来补充webpack, 添加测试文件等, 主要改动如下：&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;config&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.set(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// frameworks to use&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// available frameworks: https://npmjs.org/browse/keyword/karma-adapter&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;frameworks&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&#39;jasmine&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// list of files / patterns to load in the browser&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;files&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	   &lt;span class=&quot;string&quot;&gt;&#39;test-main.js&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// preprocess matching files before serving them to the browser&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;preprocessors&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;test-main.js&#39;&lt;/span&gt;: [ &lt;span class=&quot;string&quot;&gt;&#39;webpack&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;sourcemap&#39;&lt;/span&gt; ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attribute&quot;&gt;webpack&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;devtool&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;inline-source-map&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;module&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attribute&quot;&gt;loaders&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#123; &lt;span class=&quot;attribute&quot;&gt;test&lt;/span&gt;: /\.js$/, &lt;span class=&quot;attribute&quot;&gt;loader&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;babel-loader?presets[]=react,presets[]=es2015&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#123; &lt;span class=&quot;attribute&quot;&gt;test&lt;/span&gt;: /\.jsx$/, &lt;span class=&quot;attribute&quot;&gt;loader&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;babel-loader?presets[]=react,presets[]=es2015&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;webpackServer&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;noInfo&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意到files和preprocessors中都提及了test-main.js这个文件，这是一个我们自定义增加的文件，我们用它来选择含有测试代码的文件。&lt;/p&gt;
&lt;p&gt;在项目目录中添加完成文件后（我将其放在项目根目录下，如果您放在其他路径，请对应上相应的路径），修改其内容如下：&lt;/p&gt;
&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt; = require.&lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt;(&#39;./src&#39;, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, /(spec|test)\.js$/i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt;.keys().forEach(&lt;span class=&quot;built_in&quot;&gt;context&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里利用了webpack的&lt;a href=&quot;https://webpack.github.io/docs/context.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;require.context&lt;/a&gt;功能来包括需要的测试文件，第一行中的正则表明这些文件是以spec.js或test.js结尾的, 且对大小写不敏感。&lt;/p&gt;
&lt;h2 id=&quot;4-添加测试文件&quot;&gt;&lt;a href=&quot;#4-添加测试文件&quot; class=&quot;headerlink&quot; title=&quot;4.  添加测试文件&quot;&gt;&lt;/a&gt;4.  添加测试文件&lt;/h2&gt;&lt;p&gt;添加几个React文件以及测试，尽快来尝试功能吧！&lt;/p&gt;
&lt;p&gt;添加的几个文件放在src中，目录结构可能是这个样子：&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;src&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   └── index&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;├── components&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   ├── __tests__&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   │   └── app&lt;span class=&quot;selector-class&quot;&gt;.test&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;│   └── app&lt;span class=&quot;selector-class&quot;&gt;.comp&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.jsx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;└── index.jsx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接着一堆代码黏贴：&lt;/p&gt;
&lt;h4 id=&quot;index-test-js&quot;&gt;&lt;a href=&quot;#index-test-js&quot; class=&quot;headerlink&quot; title=&quot;index.test.js&quot;&gt;&lt;/a&gt;index.test.js&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;describe(&lt;span class=&quot;string&quot;&gt;&quot;index.jsx&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	it(&lt;span class=&quot;string&quot;&gt;&quot;renders without problems&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;../index.jsx&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;index-jsx&quot;&gt;&lt;a href=&quot;#index-jsx&quot; class=&quot;headerlink&quot; title=&quot;index.jsx&quot;&gt;&lt;/a&gt;index.jsx&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; ReactDOM &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;react-dom&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; App &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;./components/app.comp.jsx&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; root = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&quot;div&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(root)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ReactDOM.render(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt; Hi &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	root&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;app-comp-jsx&quot;&gt;&lt;a href=&quot;#app-comp-jsx&quot; class=&quot;headerlink&quot; title=&quot;app.comp.jsx&quot;&gt;&lt;/a&gt;app.comp.jsx&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;React&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt;(props)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	getNumber()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	render()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hi, Karma&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hi, React&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;app-test-js&quot;&gt;&lt;a href=&quot;#app-test-js&quot; class=&quot;headerlink&quot; title=&quot;app.test.js&quot;&gt;&lt;/a&gt;app.test.js&lt;/h4&gt;&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; React from &#39;react&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; TestUtils from &#39;react-addons-test-utils&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; expect from &#39;expect&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; App from &#39;../app.comp.jsx&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;describe(&lt;span class=&quot;string&quot;&gt;&#39;app.comp.jsx&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; app = TestUtils.renderIntoDocument(&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;App&lt;/span&gt; /&amp;gt;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	it(&lt;span class=&quot;string&quot;&gt;&#39;renders without problems&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		expect(app).toExist()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	it(&lt;span class=&quot;string&quot;&gt;&quot;getNumber function works&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		expect(app.getNumber()).toEqual(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;5-开始测试&quot;&gt;&lt;a href=&quot;#5-开始测试&quot; class=&quot;headerlink&quot; title=&quot;5. 开始测试&quot;&gt;&lt;/a&gt;5. 开始测试&lt;/h2&gt;&lt;p&gt;在终端中输入 &lt;code&gt;karma start&lt;/code&gt; 或 &lt;code&gt;karma start karma.conf.js&lt;/code&gt;， 如图所示， &lt;/p&gt;
&lt;p&gt;测试全都正确，Great.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_Karma_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;将&lt;code&gt;app.test.js&lt;/code&gt;中的&lt;code&gt;toEqual(3)&lt;/code&gt;改成&lt;code&gt;toEqual(4)&lt;/code&gt;， 报错, 很好.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_Karma_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;整个项目的示例，您可以在&lt;a href=&quot;https://github.com/ChinW/Karma-React&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;下载到。&lt;/p&gt;
&lt;p&gt;另外水平有限，如有错误，欢迎指正.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;使用Karma来测试React编写的应用&lt;/p&gt;
&lt;h2 id=&quot;2-安装环境&quot;&gt;&lt;a href=&quot;#2-安装环境&quot; c
    
    </summary>
    
      <category term="JavaScript" scheme="http://consiiii.me/categories/JavaScript/"/>
    
    
      <category term="Karma" scheme="http://consiiii.me/tags/Karma/"/>
    
      <category term="Test" scheme="http://consiiii.me/tags/Test/"/>
    
  </entry>
  
  <entry>
    <title>安装NS2进行网络仿真</title>
    <link href="http://consiiii.me/2016/04/17/%E5%AE%89%E8%A3%85NS2%E8%BF%9B%E8%A1%8C%E7%BD%91%E7%BB%9C%E4%BB%BF%E7%9C%9F/"/>
    <id>http://consiiii.me/2016/04/17/安装NS2进行网络仿真/</id>
    <published>2016-04-17T02:29:37.000Z</published>
    <updated>2016-04-17T02:54:09.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;搭建NS2环境，实现隐藏节点的模拟。&lt;/p&gt;
&lt;h2 id=&quot;2-环境安装&quot;&gt;&lt;a href=&quot;#2-环境安装&quot; class=&quot;headerlink&quot; title=&quot;2. 环境安装&quot;&gt;&lt;/a&gt;2. 环境安装&lt;/h2&gt;&lt;p&gt;环境安装中多需要sudo来提权，若出现&lt;code&gt;Permission Denied&lt;/code&gt;等字样，可先检查是否已经赋予正确权限。&lt;/p&gt;
&lt;h3 id=&quot;2-1-Ubuntu&quot;&gt;&lt;a href=&quot;#2-1-Ubuntu&quot; class=&quot;headerlink&quot; title=&quot;2.1 Ubuntu&quot;&gt;&lt;/a&gt;2.1 Ubuntu&lt;/h3&gt;&lt;p&gt;从网络中获取Ubuntu的镜像，这里选择的是Ubuntu 14桌面版32位。镜像可以在Ubuntu的官方站点获取，&lt;a href=&quot;http://www.ubuntu.org.cn/desktop。&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.ubuntu.org.cn/desktop。&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;在虚拟机安装成功后如图所示，进入主页面。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_1.png&quot; alt=&quot;Ubuntu主界面&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-2-安装依赖&quot;&gt;&lt;a href=&quot;#2-2-安装依赖&quot; class=&quot;headerlink&quot; title=&quot;2.2 安装依赖&quot;&gt;&lt;/a&gt;2.2 安装依赖&lt;/h3&gt;&lt;p&gt;使用以下命令安装依赖&lt;/p&gt;
&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; install build-essential tcl8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt; tcl8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt;-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt; tk8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt; tk8&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt;-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt; libxmu-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt; libxmu-headers&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;2-3-NS-Allinone安装&quot;&gt;&lt;a href=&quot;#2-3-NS-Allinone安装&quot; class=&quot;headerlink&quot; title=&quot;2.3 NS-Allinone安装&quot;&gt;&lt;/a&gt;2.3 NS-Allinone安装&lt;/h3&gt;&lt;p&gt;从网络中下载到&lt;code&gt;ns-allinone-2.35.tar.gz&lt;/code&gt;安装包，在本地解压缩按安装包：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tar xvzf ns-allinone-2.35.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;进入&lt;code&gt;ns-allinoe-2.35&lt;/code&gt;目录，此时，需要修正一些信息以保证接下来的编译正常以及正常使用mUDP.&lt;/p&gt;
&lt;p&gt;以下做法是用来应对&lt;code&gt;./install&lt;/code&gt;时产生的以下错误：&lt;/p&gt;
&lt;h4 id=&quot;产生错误提示：linkstate-ls-h-137-58-note-use-‘this-gt-erase’-instead&quot;&gt;&lt;a href=&quot;#产生错误提示：linkstate-ls-h-137-58-note-use-‘this-gt-erase’-instead&quot; class=&quot;headerlink&quot; title=&quot;产生错误提示：linkstate/ls.h:137:58: note: use ‘this-&amp;gt;erase’ instead&quot;&gt;&lt;/a&gt;产生错误提示：linkstate/ls.h:137:58: note: use ‘this-&amp;gt;erase’ instead&lt;/h4&gt;&lt;p&gt;具体错误提示：&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;linkstate/ls.&lt;span class=&quot;symbol&quot;&gt;h:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;137&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;note:&lt;/span&gt; declarations &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; dependent base ‘&lt;span class=&quot;symbol&quot;&gt;std:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:map&amp;lt;int&lt;/span&gt;, LsIdSeq, &lt;span class=&quot;symbol&quot;&gt;std:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:less&amp;lt;int&amp;gt;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;std:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:allocator&amp;lt;std&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:pair&amp;lt;const&lt;/span&gt; int, LsIdSeq&amp;gt; &amp;gt; &amp;gt;’ are &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; found by unqualified lookup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;linkstate/ls.&lt;span class=&quot;symbol&quot;&gt;h:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;137&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;note:&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; ‘this-&amp;gt;erase’ instead&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解决办法:&lt;/p&gt;
&lt;p&gt;编辑&lt;code&gt;ns-allinone-2.35/ns-2.35/linkstate/ls.h&lt;/code&gt;中的135行，&lt;/p&gt;
&lt;p&gt;&lt;code&gt;void eraseAll() { erase(baseMap::begin(), baseMap::end()); }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;改为&lt;/p&gt;
&lt;p&gt;&lt;code&gt;void eraseAll() { this-&amp;gt;erase(baseMap::begin(), baseMap::end()); }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如图所示&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_2.png&quot; alt=&quot;修改eraseAll&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;进入&lt;code&gt;ns-allinone-2.35&lt;/code&gt;目录，输入&lt;code&gt;./install&lt;/code&gt;进行安装.再出现了一大堆信息后，安装应当已经成功。&lt;/p&gt;
&lt;p&gt;出现的信息应当与此类同：&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Please &lt;span class=&quot;built_in&quot;&gt;put&lt;/span&gt; /home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/bin:/home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/tcl8&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;/unix:/home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/tk8&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;/unix&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; your PATH environment; so that you’ll be able &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; run itm/tclsh/wish/xgraph.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IMPORTANT NOTICES:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)You must &lt;span class=&quot;built_in&quot;&gt;put&lt;/span&gt; /home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/otcl&lt;span class=&quot;number&quot;&gt;-1.14&lt;/span&gt;,/home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/lib,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; your LD_LIBRARY_PATH environment &lt;span class=&quot;built_in&quot;&gt;variable&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; complains about X libraries, &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; path &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; your X libraries&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; LD_LIBRARY_PATH.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If you are &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; csh, you can &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; like:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setenv LD_LIBRARY_PATH&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;If you are &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; sh, you can &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; like:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export LD_LIBRARY_PATH=&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) You MUST &lt;span class=&quot;built_in&quot;&gt;put&lt;/span&gt; /home/WNT/Downloads/ns-allinone&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;/tcl8&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;/library intoyour TCL_LIBRARY environmental&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;variable&lt;/span&gt;. Otherwise ns/nam will complain during startup.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;After these steps, you can now run &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; ns validation suite &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cd ns&lt;span class=&quot;number&quot;&gt;-2.35&lt;/span&gt;; ./validate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;For trouble shooting, please &lt;span class=&quot;keyword&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;read&lt;/span&gt; ns problems page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;http&lt;/span&gt;://www.isi.edu/nsnam/ns/ns-problems.htmlAlso search &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; ns mailing list archive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; related posts.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此时需要编辑&lt;code&gt;.bashrc&lt;/code&gt;, 按照上述提示，在&lt;code&gt;~/.bashrc&lt;/code&gt;中追加一下内容&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; PATH=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$PATH&lt;/span&gt;:/home/WNT/Downloads/ns-allinone-2.35/bin:/home/WNT/Downloads/ns-allinone-2.35/tcl8.5.10/unix:/home/WNT/Downloads/ns-allinone-2.35/tk8.5.10/unix&quot;&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; LD_LIBRARY_PATH=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$LD_LIBRARY_PATH&lt;/span&gt;:/home/WNT/Downloads/ns-allinone-2.35/otcl-1.14:/home/WNT/Downloads/ns-allinone-2.35/lib&quot;&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; TCL_LIBRARY=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$TCL_LIBRARY&lt;/span&gt;:/home/WNT/Downloads/ns-allinone-2.35/tcl8.5.10/library&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;保存后退出。在Terminal中输入&lt;code&gt;ns&lt;/code&gt;，出现以下内容，则表示成功:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_3.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-4-实现mUDP环境&quot;&gt;&lt;a href=&quot;#2-4-实现mUDP环境&quot; class=&quot;headerlink&quot; title=&quot;2.4 实现mUDP环境&quot;&gt;&lt;/a&gt;2.4 实现mUDP环境&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;下载mudp.cc、mudp.h、mudpsink.cc、mudpsink.h，放置在&lt;code&gt;ns-allinone-2.35/ns-2.35/measure&lt;/code&gt;文件夹中，若measure不存在则需要自行建立。&lt;/li&gt;
&lt;li&gt;修改&lt;code&gt;mudp.cc&lt;/code&gt;,将以下代码：&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mUdpAgent::mUdpAgent() : id_(0), openfile(0)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	bind(&lt;span class=&quot;string&quot;&gt;&quot;packetSize_&quot;&lt;/span&gt;, &amp;amp;amp;size_);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	UdpAgent::UdpAgent();  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;改动为：&lt;/p&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mUdpAgent::mUdpAgent() :UdpAgent()，id_(0), openfile(0)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	bind(&lt;span class=&quot;string&quot;&gt;&quot;packetSize_&quot;&lt;/span&gt;, &amp;amp;amp;size_);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;修改&lt;code&gt;ns-allinone-2.35/ns-2.35/common/packet.h&lt;/code&gt;,加入以下内容至struct hdr_cmn{}中：&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; frametype_&lt;span class=&quot;comment&quot;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;double&lt;/span&gt; sendtime_&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unsigned &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; pkt_id_&lt;span class=&quot;comment&quot;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unsigned &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; frame_pkt_id_&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如图所示&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_4.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;修改&lt;code&gt;ns-allinone-2.35/ns-2.35/Makefile&lt;/code&gt;,追加以下内容至OBJ_CC:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;measure/mudp.o measure/mudpsink.o&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_5.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;修改&lt;code&gt;ns-allinone-2.35/ns-2.35/tcl/lib/ns-default.tcl&lt;/code&gt;, 追加一下一下内容在&lt;code&gt;Agent/Ping set packetSize_ 64&lt;/code&gt;下面：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Agent/mUDP set packetSize_ 1000&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在&lt;code&gt;ns-allinone-2.35/ns-2.35&lt;/code&gt;目录下&lt;code&gt;make clean; make&lt;/code&gt;即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;3-实验检测&quot;&gt;&lt;a href=&quot;#3-实验检测&quot; class=&quot;headerlink&quot; title=&quot;3. 实验检测&quot;&gt;&lt;/a&gt;3. 实验检测&lt;/h2&gt;&lt;p&gt;进入到相应Examples的目录，输入&lt;code&gt;ns XXXX.tcl&lt;/code&gt;即可开始仿真。&lt;/p&gt;
&lt;p&gt;最后运行隐藏节点的仿真效果如图所示。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_6.png&quot; alt=&quot;Exp&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_8.png&quot; alt=&quot;Exp&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_9.png&quot; alt=&quot;Exp&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_NS2_10.png&quot; alt=&quot;Exp&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-目的&quot;&gt;&lt;a href=&quot;#1-目的&quot; class=&quot;headerlink&quot; title=&quot;1. 目的&quot;&gt;&lt;/a&gt;1. 目的&lt;/h2&gt;&lt;p&gt;搭建NS2环境，实现隐藏节点的模拟。&lt;/p&gt;
&lt;h2 id=&quot;2-环境安装&quot;&gt;&lt;a href=&quot;#2-环境安装&quot; cla
    
    </summary>
    
      <category term="NS2" scheme="http://consiiii.me/categories/NS2/"/>
    
    
      <category term="NS2" scheme="http://consiiii.me/tags/NS2/"/>
    
  </entry>
  
  <entry>
    <title>PHP：将Word转换成PDF</title>
    <link href="http://consiiii.me/2016/03/16/PHP%EF%BC%9A%E5%B0%86Word%E8%BD%AC%E6%8D%A2%E6%88%90PDF/"/>
    <id>http://consiiii.me/2016/03/16/PHP：将Word转换成PDF/</id>
    <published>2016-03-16T09:08:03.000Z</published>
    <updated>2016-03-16T09:08:36.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h2&gt;&lt;p&gt;用户上传DOC，DOCX等文件格式后，能够在线查看到文件的内容。&lt;/p&gt;
&lt;h2 id=&quot;想法&quot;&gt;&lt;a href=&quot;#想法&quot; class=&quot;headerlink&quot; title=&quot;想法&quot;&gt;&lt;/a&gt;想法&lt;/h2&gt;&lt;p&gt;WORD文件内容是富文本，可以转换成HTML格式后表现出来，或者转换成PDF格式，然后通过pdf.js来实现在线阅读。&lt;/p&gt;
&lt;h2 id=&quot;实现&quot;&gt;&lt;a href=&quot;#实现&quot; class=&quot;headerlink&quot; title=&quot;实现&quot;&gt;&lt;/a&gt;实现&lt;/h2&gt;&lt;p&gt;由于后端环境是Windows，脚本语言为PHP， 因此可以使用PHP的COM组件来调用OpenOffice 或者 MS Word 来实现该格式转换问题。&lt;/p&gt;
&lt;h3 id=&quot;准备&quot;&gt;&lt;a href=&quot;#准备&quot; class=&quot;headerlink&quot; title=&quot;准备&quot;&gt;&lt;/a&gt;准备&lt;/h3&gt;&lt;h4 id=&quot;1-安装OpenOffice-或者-MS-Word-程序&quot;&gt;&lt;a href=&quot;#1-安装OpenOffice-或者-MS-Word-程序&quot; class=&quot;headerlink&quot; title=&quot;1. 安装OpenOffice 或者 MS Word 程序&quot;&gt;&lt;/a&gt;1. 安装OpenOffice 或者 MS Word 程序&lt;/h4&gt;&lt;p&gt;OpenOffice可以&lt;a href=&quot;https://www.openoffice.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在这里下载&lt;/a&gt;。&lt;/p&gt;
&lt;h4 id=&quot;2-打开COM&quot;&gt;&lt;a href=&quot;#2-打开COM&quot; class=&quot;headerlink&quot; title=&quot;2. 打开COM&quot;&gt;&lt;/a&gt;2. 打开COM&lt;/h4&gt;&lt;p&gt;注意：COM组件只试用于Windows版本下的PHP，需要PHP5及.Net runtime.&lt;/p&gt;
&lt;p&gt;PHP 5.3.15/5.4.5 需在&lt;code&gt;php.ini&lt;/code&gt;手动打开&lt;code&gt;php_com_dotnet.dll&lt;/code&gt;，此前版本默认已经打开。&lt;/p&gt;
&lt;p&gt;另外，您可能还需要打开&lt;code&gt;com.allow_dcom&lt;/code&gt;, 具体配置如下:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;extension=php_com_dotnet.dll&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[COM]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; allow Distributed-COM calls&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; http:&lt;span class=&quot;comment&quot;&gt;//php.net/com.allow-dcom&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;com.allow_dcom = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; autoregister constants &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; a components typlib on com_load()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; http:&lt;span class=&quot;comment&quot;&gt;//php.net/com.autoregister-typelib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;com.autoregister_typelib = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;使用MS-Word来转换&quot;&gt;&lt;a href=&quot;#使用MS-Word来转换&quot; class=&quot;headerlink&quot; title=&quot;使用MS Word来转换&quot;&gt;&lt;/a&gt;使用MS Word来转换&lt;/h3&gt;&lt;p&gt;PHP代码：&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; COM(&lt;span class=&quot;string&quot;&gt;&quot;word.application&quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;die&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Unable to instanciate Word&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Strat...\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// set it to 1 to see the MS Word window (the actual opening of the document)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;Visible = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// recommend to set to 0, disables alerts like &quot;Do you want MS Word to be the default .. etc&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;DisplayAlerts = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// open the word 2007-2013 document &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;Documents-&amp;gt;Open(realpath(&lt;span class=&quot;string&quot;&gt;&quot;in.docx&quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// save it as word 2003&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// $word-&amp;gt;ActiveDocument-&amp;gt;SaveAs(&#39;newdocument.pdf&#39;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// convert word 2007-2013 to PDF&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;ActiveDocument-&amp;gt;ExportAsFixedFormat(&lt;span class=&quot;string&quot;&gt;&quot;F:\\Tools\\Program Handle\\WAMP\\www\\wordConvertor\\output.pdf&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// quit the Word process&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $word-&amp;gt;Quit(&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// clean up&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;unset&lt;/span&gt;($word);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Done!&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt; $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Caught exception: &#39;&lt;/span&gt;,  $e-&amp;gt;getMessage(), &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如果您遇到以下类似的错误, 并确认MS Word已经安装好：&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;PHP Fatal error: Uncaught exception &lt;span class=&quot;symbol&quot;&gt;&#39;com_exception&lt;/span&gt;&#39; &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; message &lt;span class=&quot;symbol&quot;&gt;&#39;Source&lt;/span&gt;: Microsoft Word&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Description: This command &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; available because no document &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt;.&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;请尝试这样解决（建议先尝试方法二）：&lt;/p&gt;
&lt;p&gt;方法一：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;开始&lt;/li&gt;
&lt;li&gt;Win+R 运行&lt;/li&gt;
&lt;li&gt;输入 &lt;code&gt;dcomcnfg&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Press OK&lt;/li&gt;
&lt;li&gt;展开 Component Services&lt;/li&gt;
&lt;li&gt;展开 Computers&lt;/li&gt;
&lt;li&gt;右键 My Computer，点击”Properties” &lt;/li&gt;
&lt;li&gt;Default Properties选项卡&lt;/li&gt;
&lt;li&gt;确认勾选Enable COM Internet Services on this computer 和Enable Distributed COM&lt;/li&gt;
&lt;li&gt;设置 Default Authentication Level 为 Default&lt;/li&gt;
&lt;li&gt;设置 Default Impersonation Level 为 Identify&lt;/li&gt;
&lt;li&gt;COM Security tab 选项卡&lt;/li&gt;
&lt;li&gt;Access Permissions area, 点击 Edit Limits…&lt;/li&gt;
&lt;li&gt;确认ANONYMOUS LOGIN 下允许 remote access&lt;/li&gt;
&lt;li&gt;点击 Add…&lt;/li&gt;
&lt;li&gt;在 “Enter object names to select” 文本框内输入 “Everyone”&lt;/li&gt;
&lt;li&gt;允许Everyone 有 Local Access 和 Remote Access&lt;/li&gt;
&lt;li&gt;点击确认&lt;/li&gt;
&lt;li&gt;同样在Access Permissions 区域，点击&lt;code&gt;Edit Default&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;确认允许 SELF and SYSTEM 有 remote access&lt;/li&gt;
&lt;li&gt;点击 &lt;code&gt;Add...&lt;/code&gt;重复步骤 16 and 17&lt;/li&gt;
&lt;li&gt;点击确认&lt;/li&gt;
&lt;li&gt;在Launch and Activation Permissions区域下点击&lt;code&gt;Edit Limits...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;确认允许Administrator user 有 remote launch 和 remote activation的权限&lt;/li&gt;
&lt;li&gt;如果Everyone用户组在这里不存在，请重复步骤16，17&lt;/li&gt;
&lt;li&gt;允许Everyone group有local launch, remote launch, local activation,和 remote activation权限.&lt;/li&gt;
&lt;li&gt;点击确认&lt;/li&gt;
&lt;li&gt;同样在Launch and Activation Permissions区域下，点击&lt;code&gt;Edit Default...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;确认Administrator, INTERACTIVE, 和 SYSTEM用户组有 remote launch 和 remote activation 的权利.&lt;/li&gt;
&lt;li&gt;重复步骤16 和 17 以创建Everyone用户组&lt;/li&gt;
&lt;li&gt;允许Everyone group有local launch, remote launch, local activation,和 remote activation权限.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_dcomcnfg_1.png&quot; alt=&quot;ci_dcomcnfg_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;同时，确认&lt;code&gt;php.ini&lt;/code&gt;中的&lt;code&gt;com.allow_dcom&lt;/code&gt;已经打开。重启后再试，如果问题依旧，请继续以下步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;依次点击Console Root -&amp;gt; Component Services -&amp;gt; Computers -&amp;gt; My Computer -&amp;gt; DCOM Config, 在此处找到&lt;code&gt;Microsoft Word 97 - 2003 Document&lt;/code&gt;(如果没有找到，请尝试方法二).&lt;/li&gt;
&lt;li&gt;右键属性.&lt;/li&gt;
&lt;li&gt;Security 选项卡中确认&lt;code&gt;Launch and Activation Permissions&lt;/code&gt;，&lt;code&gt;Access Permissions&lt;/code&gt;，&lt;code&gt;Configuration permissions&lt;/code&gt;已经勾选为&lt;code&gt;Default&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;Identity&lt;/code&gt;选项卡中选择&lt;code&gt;The interactive user&lt;/code&gt;或者指定一个Admin用户, 通常它可能是&lt;code&gt;The launching user&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;方法二：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Win + R 打开运行；&lt;/li&gt;
&lt;li&gt;输入&lt;code&gt;mmc -32&lt;/code&gt; ，按下OK；&lt;/li&gt;
&lt;li&gt;在新弹出的窗口中点击 File -&amp;gt; Add/Remove Sanp-in （或者Ctrl + M）；&lt;/li&gt;
&lt;li&gt;在新窗口中的左侧找到Component Services, 添加，确认；&lt;/li&gt;
&lt;li&gt;依次点击Console Root -&amp;gt; Component Services -&amp;gt; Computers -&amp;gt; My Computer -&amp;gt; DCOM Config, 在此处找到&lt;code&gt;Microsoft Word 97 - 2003 Document&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;右键&lt;code&gt;Microsoft Word 97 - 2003 Document&lt;/code&gt;，选择&lt;code&gt;Property&lt;/code&gt;, 在&lt;code&gt;Identity&lt;/code&gt;选项卡中选择&lt;code&gt;The interactive user&lt;/code&gt;或者指定一个Admin用户, 通常它可能是&lt;code&gt;The launching user&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_dcomcnfg_2.png&quot; alt=&quot;ci_dcomcnfg_2&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;使用OpenOffice来转换&quot;&gt;&lt;a href=&quot;#使用OpenOffice来转换&quot; class=&quot;headerlink&quot; title=&quot;使用OpenOffice来转换&quot;&gt;&lt;/a&gt;使用OpenOffice来转换&lt;/h3&gt;&lt;h3 id=&quot;启动OpenOffice服务&quot;&gt;&lt;a href=&quot;#启动OpenOffice服务&quot; class=&quot;headerlink&quot; title=&quot;启动OpenOffice服务&quot;&gt;&lt;/a&gt;启动OpenOffice服务&lt;/h3&gt;&lt;p&gt;两种方式，方式一比较简便。&lt;/p&gt;
&lt;p&gt;确认是否已经开启参考以下命令来获取回复：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;netstat -nao|findstr -c&amp;quot;:8100&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;其中8100应该改为您自行设定OpenOffice服务端口。&lt;/p&gt;
&lt;h4 id=&quot;方式一&quot;&gt;&lt;a href=&quot;#方式一&quot; class=&quot;headerlink&quot; title=&quot;方式一&quot;&gt;&lt;/a&gt;方式一&lt;/h4&gt;&lt;p&gt;假设您的OpenOffce安装在&lt;code&gt;C:\Program Files (x86)\OpenOffice 4\program\soffice.exe&lt;/code&gt;,在CMD中输入以下命令：&lt;/p&gt;
&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&quot;C:&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;Program&lt;/span&gt;&lt;/span&gt; Files (x86)&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;OpenOffice&lt;/span&gt;&lt;/span&gt; 4&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;program&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;soffice&lt;/span&gt;&lt;/span&gt;.exe&quot; -headless -accept=&quot;socket,host=127.0.0.1,port=8100;urp;&quot; -nofirststartwizard&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;方式二&quot;&gt;&lt;a href=&quot;#方式二&quot; class=&quot;headerlink&quot; title=&quot;方式二&quot;&gt;&lt;/a&gt;方式二&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;创建文件夹在该路径上 C:\utils， 把&lt;a href=&quot;https://www.getfilecloud.com/supportdocs/download/attachments/8161082/srvany.exe?version=1&amp;amp;modificationDate=1386351001000&amp;amp;api=v2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;srvany.exe&lt;/a&gt;复制到里面去. 该文件从&lt;a href=&quot;https://www.microsoft.com/en-gb/download/details.aspx?id=17657&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Windows Server 2003 Resource Kit&lt;/a&gt;提取.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;打开CMD（管理员模式）. 运行一下命令.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;C:\Windows\system32&amp;gt;&lt;span class=&quot;keyword&quot;&gt;sc &lt;/span&gt;create &lt;span class=&quot;string&quot;&gt;&quot;ooservice&quot;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;binPath= &lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;\&quot;C:\Utils\srvany.exe\&quot;&quot;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;DisplayName= &lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;OpenOffice Server&quot;&lt;/span&gt; start= auto&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;keyword&quot;&gt;SC] &lt;/span&gt;CreateService SUCCESS&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;打开注册表编辑器(Win + R, 输入regedit).  寻找到HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\ooservice. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建一个新的 key，名为 &lt;code&gt;Parameters&lt;/code&gt;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在&lt;code&gt;Parameters&lt;/code&gt; 这个Key中, 创建一个名为 &lt;code&gt;Application&lt;/code&gt;的String，其值如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;C:\Program Files (x86)\OpenOffice 4\program\soffice.exe&quot;&lt;/span&gt; -headless -accept=&lt;span class=&quot;string&quot;&gt;&quot;socket,host=127.0.0.1,port=8100;urp;&quot;&lt;/span&gt; -nofirststartwizard&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Note&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;Update&lt;/span&gt; path to &lt;span class=&quot;keyword&quot;&gt;open&lt;/span&gt; office &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; necessary.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;最后您的注册表大概类似于这个样子:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://www.getfilecloud.com/supportdocs/download/attachments/8161082/image2013-12-6%2011%3A32%3A29.png?version=1&amp;amp;modificationDate=1386351001000&amp;amp;api=v2&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在&lt;code&gt;Control Panel&lt;/code&gt; -&amp;gt; &lt;code&gt;Administrative Tools&lt;/code&gt; -&amp;gt; &lt;code&gt;Services&lt;/code&gt; 中找到&lt;code&gt;Open Office Server&lt;/code&gt;并开启.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;使用上述的netstat -nao|findstr -c”:8100”命令确认是否已经开启.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;成功后回复如下：&lt;/p&gt;
&lt;figure class=&quot;highlight accesslog&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;C:\Windows\system32&amp;gt;netstat -nao|findstr -c&lt;span class=&quot;string&quot;&gt;&quot;:8100&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  TCP    &lt;span class=&quot;number&quot;&gt;127.0.0.1:8100&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;0.0.0.0:0&lt;/span&gt;              LISTENING       &lt;span class=&quot;number&quot;&gt;6016&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;PHP代码&quot;&gt;&lt;a href=&quot;#PHP代码&quot; class=&quot;headerlink&quot; title=&quot;PHP代码&quot;&gt;&lt;/a&gt;PHP代码&lt;/h3&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MakePropertyValue&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($name, $value,$osm)&lt;/span&gt;&lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oStruct = $osm-&amp;gt;Bridge_GetStruct(&lt;span class=&quot;string&quot;&gt;&quot;com.sun.star.beans.PropertyValue&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oStruct-&amp;gt;Name = $name; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oStruct-&amp;gt;Value = $value; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; $oStruct; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;word2pdf&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($doc_url, $output_url)&lt;/span&gt;&lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Invoke the OpenOffice.org service manager &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $osm = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; COM(&lt;span class=&quot;string&quot;&gt;&quot;com.sun.star.ServiceManager&quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;die&lt;/span&gt; (&lt;span class=&quot;string&quot;&gt;&quot;Please be sure that OpenOffice.org is installed.\n&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Set the application to remain hidden to avoid flashing the document onscreen &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $args = &lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;(MakePropertyValue(&lt;span class=&quot;string&quot;&gt;&quot;Hidden&quot;&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;,$osm)); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Launch the desktop &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $top = $osm-&amp;gt;createInstance(&lt;span class=&quot;string&quot;&gt;&quot;com.sun.star.frame.Desktop&quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Load the .doc file, and pass in the &quot;Hidden&quot; property from above &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oWriterDoc = $top-&amp;gt;loadComponentFromURL($doc_url,&lt;span class=&quot;string&quot;&gt;&quot;_blank&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, $args); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Set up the arguments for the PDF output &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $export_args = &lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt;(MakePropertyValue(&lt;span class=&quot;string&quot;&gt;&quot;FilterName&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;writer_pdf_Export&quot;&lt;/span&gt;,$osm)); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Write out the PDF &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oWriterDoc-&amp;gt;storeToURL($output_url,$export_args); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $oWriterDoc-&amp;gt;close(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Strat...\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $doc_file = &lt;span class=&quot;string&quot;&gt;&#39;file:///F:/Tools/Program Handle/WAMP/www/wordConvertor/in.docx&#39;&lt;/span&gt; ; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   $output_file = &lt;span class=&quot;string&quot;&gt;&#39;file:///F:/Tools/Program Handle/WAMP/www/wordConvertor/out.pdf&#39;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   word2pdf($doc_file, $output_file); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Done!&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;Exception&lt;/span&gt; $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Caught exception: &#39;&lt;/span&gt;,  $e-&amp;gt;getMessage(), &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;问题及注意&quot;&gt;&lt;a href=&quot;#问题及注意&quot; class=&quot;headerlink&quot; title=&quot;问题及注意&quot;&gt;&lt;/a&gt;问题及注意&lt;/h2&gt;&lt;h3 id=&quot;1-程序长时间卡在new-COM-quot-com-XXXXX-quot-这一行&quot;&gt;&lt;a href=&quot;#1-程序长时间卡在new-COM-quot-com-XXXXX-quot-这一行&quot; class=&quot;headerlink&quot; title=&quot;1.程序长时间卡在new COM(&amp;quot;com.XXXXX&amp;quot;)这一行&quot;&gt;&lt;/a&gt;1.程序长时间卡在&lt;code&gt;new COM(&amp;quot;com.XXXXX&amp;quot;)&lt;/code&gt;这一行&lt;/h3&gt;&lt;p&gt;由于实际上是调用MS WORD或者OpenOffice来完成的功能，因此调试时，可以利用任务管理器查看相关进程，防止因为错误的代码/环境重复打开多个进程而得不到关闭，导致后面的测试也出错。&lt;/p&gt;
&lt;p&gt;此外，还可以调短&lt;code&gt;php.ini&lt;/code&gt;中的&lt;code&gt;max_execution_time&lt;/code&gt;，个人感觉3s内无响应就该去再做检查了.&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.getfilecloud.com/supportdocs/display/cloud/Running+Openoffice+as+a+service+in+Windows&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.getfilecloud.com/supportdocs/display/cloud/Running+Openoffice+as+a+service+in+Windows&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.figured-it-out.com/figured-out.php?sid=24&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.figured-it-out.com/figured-out.php?sid=24&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12104775/cant-open-word-doc-with-com-in-php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/questions/12104775/cant-open-word-doc-with-com-in-php&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h2&gt;&lt;p&gt;用户上传DOC，DOCX等文件格式后，能够在线查看到文件的内容。&lt;/p&gt;
&lt;h2 id=&quot;想法&quot;&gt;&lt;a href=&quot;#想法&quot; class=&quot;
    
    </summary>
    
      <category term="PHP" scheme="http://consiiii.me/categories/PHP/"/>
    
    
      <category term="PHP" scheme="http://consiiii.me/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>Doodle in Canvas</title>
    <link href="http://consiiii.me/2016/01/24/Doodle-in-Canvas/"/>
    <id>http://consiiii.me/2016/01/24/Doodle-in-Canvas/</id>
    <published>2016-01-24T06:02:59.000Z</published>
    <updated>2016-03-31T11:40:06.000Z</updated>
    
    <content type="html">&lt;p&gt;Canvas涂鸦，想通过Grid来做出一些不一样的效果，现在我也不知道弄出了什么。&lt;/p&gt;
&lt;p&gt;您可以&lt;a href=&quot;https://github.com/ChinW/GridEffect&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;从Github上得到它的源码&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&quot;1-收缩&quot;&gt;&lt;a href=&quot;#1-收缩&quot; class=&quot;headerlink&quot; title=&quot;1. 收缩&quot;&gt;&lt;/a&gt;1. 收缩&lt;/h2&gt;&lt;p&gt;第一张 gif 较大(3M)。 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Shrink/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_shrink.gif&quot; alt=&quot;Shrink1&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_shrink2.gif&quot; alt=&quot;Shrink2&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-十字&quot;&gt;&lt;a href=&quot;#2-十字&quot; class=&quot;headerlink&quot; title=&quot;2. 十字&quot;&gt;&lt;/a&gt;2. 十字&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Cross/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_cross.gif&quot; alt=&quot;Cross&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;3-波动&quot;&gt;&lt;a href=&quot;#3-波动&quot; class=&quot;headerlink&quot; title=&quot;3. 波动&quot;&gt;&lt;/a&gt;3. 波动&lt;/h2&gt;&lt;p&gt;波动过程 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type1/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_wave.gif&quot; alt=&quot;Wave1&quot;&gt;&lt;/p&gt;
&lt;p&gt;再模仿一下恢复的过程 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type2/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_wave3.gif&quot; alt=&quot;Wave3&quot;&gt;&lt;/p&gt;
&lt;p&gt;渲染上色 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type3/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_wave4.gif&quot; alt=&quot;Wave4&quot;&gt;&lt;/p&gt;
&lt;p&gt;加上一点音乐 &lt;a href=&quot;http://consiiii.me/display/DoodleInCanvas/Wave/Type4_Visualizer_Player/index.html&quot;&gt;Check Demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xngrd.com1.z0.glb.clouddn.com/ci_visulizer_player.png&quot; alt=&quot;Wave5&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Canvas涂鸦，想通过Grid来做出一些不一样的效果，现在我也不知道弄出了什么。&lt;/p&gt;
&lt;p&gt;您可以&lt;a href=&quot;https://github.com/ChinW/GridEffect&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;从Github上
    
    </summary>
    
      <category term="Canvas" scheme="http://consiiii.me/categories/Canvas/"/>
    
    
      <category term="Canvas" scheme="http://consiiii.me/tags/Canvas/"/>
    
  </entry>
  
  <entry>
    <title>CMS中存放文章内容的Content字段类型</title>
    <link href="http://consiiii.me/2016/01/15/CMS%E4%B8%AD%E5%AD%98%E6%94%BE%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9%E7%9A%84Content%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B/"/>
    <id>http://consiiii.me/2016/01/15/CMS中存放文章内容的Content字段类型/</id>
    <published>2016-01-15T14:00:28.000Z</published>
    <updated>2016-01-15T14:33:32.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;缘由&quot;&gt;&lt;a href=&quot;#缘由&quot; class=&quot;headerlink&quot; title=&quot;缘由&quot;&gt;&lt;/a&gt;缘由&lt;/h2&gt;&lt;p&gt;今天学校里的老师让我帮忙看看学校内站点发文章时为什么文章保存后自动被截取一部分：一张很长的表格，复制到富文本编辑器中后，点击“发布文章”后查看（过程没有出现执行错误），只出现了部分内容。&lt;/p&gt;
&lt;h2 id=&quot;操作&quot;&gt;&lt;a href=&quot;#操作&quot; class=&quot;headerlink&quot; title=&quot;操作&quot;&gt;&lt;/a&gt;操作&lt;/h2&gt;&lt;p&gt;检查后发现CMS的数据库（用的是MySQL），其保存文章的字段Content的类型是TEXT。&lt;/p&gt;
&lt;p&gt;关于TEXT一类相关的属性对比如下 &lt;a href=&quot;http://blog.sina.com.cn/s/blog_4f925fc30102edg8.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;资料来源&lt;/a&gt;：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;类型&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;范围&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Char(N) [binary]&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;N=1~255 个字元 。binary ：分辨大小写&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;固定长度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;VarChar(N) [binary]&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;N=1~255 个字元 。binary ：分辨大小写&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;可变长度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;TinyBlob&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度255个字元(2^8-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;TinyText&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度255个字元(2^8-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Text&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度65535个字元(2^16-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;MediumBlob&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度 16777215 个字元(2^24-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;MediumText&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度 16777215 个字元(2^24-1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;LongBlob&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度4294967295个字元 (2^32-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;LongText&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;最大长度4294967295个字元 (2^32-1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Blob (Binary large objects)储存二进制资料，且有分大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;解决&quot;&gt;&lt;a href=&quot;#解决&quot; class=&quot;headerlink&quot; title=&quot;解决&quot;&gt;&lt;/a&gt;解决&lt;/h2&gt;&lt;p&gt;将Content的类型改为MediumText(或以上级别)后功能执行正常。&lt;/p&gt;
&lt;h2 id=&quot;讨论&quot;&gt;&lt;a href=&quot;#讨论&quot; class=&quot;headerlink&quot; title=&quot;讨论&quot;&gt;&lt;/a&gt;讨论&lt;/h2&gt;&lt;p&gt;由于学校内CMS用的一般都是富文本编辑器，存储在数据库中时还会保存成HTML格式的文本，其中一般含有大量的HTML标记，因此存储在Content字段中的字数要远超其显示的字符数。因此上述老师保存一段长表格，会被截取。&lt;/p&gt;
&lt;p&gt;然而:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MySQL在执行这个某个字段的值会被截断的插入／更新语句时不会提示错误（我在Console中测试过，没有错误反馈）。&lt;/li&gt;
&lt;li&gt;感觉不仅时学校内使用的CMS，很多CMS站点中关于Conetent的字段类型也都是TEXT类型的。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;非常感谢您的阅读。如果错误，欢迎在评论中指正！&lt;/strong&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;缘由&quot;&gt;&lt;a href=&quot;#缘由&quot; class=&quot;headerlink&quot; title=&quot;缘由&quot;&gt;&lt;/a&gt;缘由&lt;/h2&gt;&lt;p&gt;今天学校里的老师让我帮忙看看学校内站点发文章时为什么文章保存后自动被截取一部分：一张很长的表格，复制到富文本编辑器中后，点击“发布文章”后查
    
    </summary>
    
      <category term="MySQL" scheme="http://consiiii.me/categories/MySQL/"/>
    
    
      <category term="MySQL" scheme="http://consiiii.me/tags/MySQL/"/>
    
      <category term="CMS" scheme="http://consiiii.me/tags/CMS/"/>
    
  </entry>
  
</feed>
